# Change Log

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

<a name="3.2.7"></a>
## [3.2.7](https://github.com/mongodb/node-mongodb-native/compare/v3.2.6...v3.2.7) (2019-06-04)


### Bug Fixes

* **core:** updating core to version 3.2.7 ([2f91466](https://github.com/mongodb/node-mongodb-native/commit/2f91466))
* **findOneAndReplace:** throw error if atomic operators provided for findOneAndReplace ([6a860a3](https://github.com/mongodb/node-mongodb-native/commit/6a860a3))



<a name="3.2.6"></a>
## [3.2.6](https://github.com/mongodb/node-mongodb-native/compare/v3.2.5...v3.2.6) (2019-05-24)



<a name="3.2.5"></a>
## [3.2.5](https://github.com/mongodb/node-mongodb-native/compare/v3.2.4...v3.2.5) (2019-05-17)


### Bug Fixes

* **core:** updating core to 3.2.5 ([a2766c1](https://github.com/mongodb/node-mongodb-native/commit/a2766c1))



<a name="3.2.4"></a>
## [3.2.4](https://github.com/mongodb/node-mongodb-native/compare/v3.2.2...v3.2.4) (2019-05-08)


### Bug Fixes

* **aggregation:** fix field name typo ([4235d04](https://github.com/mongodb/node-mongodb-native/commit/4235d04))
* **async:** rewrote asyncGenerator in node < 10 syntax ([49c8cef](https://github.com/mongodb/node-mongodb-native/commit/49c8cef))
* **BulkOp:** run unordered bulk ops in serial ([f548bd7](https://github.com/mongodb/node-mongodb-native/commit/f548bd7))
* **bulkWrite:** fix issue with bulkWrite continuing w/ callback ([2a4a42c](https://github.com/mongodb/node-mongodb-native/commit/2a4a42c))
* **docs:** correctly document that default for `sslValidate` is false ([1f8e7fa](https://github.com/mongodb/node-mongodb-native/commit/1f8e7fa))
* **gridfs-stream:** honor chunk size ([9eeb114](https://github.com/mongodb/node-mongodb-native/commit/9eeb114))
* **unified-topology:** only clone pool size if provided ([8dc2416](https://github.com/mongodb/node-mongodb-native/commit/8dc2416))


### Features

* update to mongodb-core v3.2.3 ([1c5357a](https://github.com/mongodb/node-mongodb-native/commit/1c5357a))
* **core:** update to mongodb-core v3.2.4 ([2059260](https://github.com/mongodb/node-mongodb-native/commit/2059260))
* **lib:** implement executeOperationV2 ([67d4edf](https://github.com/mongodb/node-mongodb-native/commit/67d4edf))



<a name="3.2.3"></a>
## [3.2.3](https://github.com/mongodb/node-mongodb-native/compare/v3.2.2...v3.2.3) (2019-04-05)


### Bug Fixes

* **aggregation:** fix field name typo ([4235d04](https://github.com/mongodb/node-mongodb-native/commit/4235d04))
* **async:** rewrote asyncGenerator in node < 10 syntax ([49c8cef](https://github.com/mongodb/node-mongodb-native/commit/49c8cef))
* **bulkWrite:** fix issue with bulkWrite continuing w/ callback ([2a4a42c](https://github.com/mongodb/node-mongodb-native/commit/2a4a42c))
* **docs:** correctly document that default for `sslValidate` is false ([1f8e7fa](https://github.com/mongodb/node-mongodb-native/commit/1f8e7fa))


### Features

* update to mongodb-core v3.2.3 ([1c5357a](https://github.com/mongodb/node-mongodb-native/commit/1c5357a))



<a name="3.2.2"></a>
## [3.2.2](https://github.com/mongodb/node-mongodb-native/compare/v3.2.1...v3.2.2) (2019-03-22)


### Bug Fixes

* **asyncIterator:** stronger guard against importing async generator ([e0826fb](https://github.com/mongodb/node-mongodb-native/commit/e0826fb))


### Features

* update to mongodb-core v3.2.2 ([868cfc3](https://github.com/mongodb/node-mongodb-native/commit/868cfc3))



<a name="3.2.1"></a>
## [3.2.1](https://github.com/mongodb/node-mongodb-native/compare/v3.2.0...v3.2.1) (2019-03-21)


### Features

* **core:** update to mongodb-core v3.2.1 ([30b0100](https://github.com/mongodb/node-mongodb-native/commit/30b0100))



<a name="3.2.0"></a>
# [3.2.0](https://github.com/mongodb/node-mongodb-native/compare/v3.1.13...v3.2.0) (2019-03-21)


### Bug Fixes

* **aggregate:** do not send batchSize for aggregation with $out ([ddb8d90](https://github.com/mongodb/node-mongodb-native/commit/ddb8d90))
* **bulkWrite:** always count undefined values in bson size for bulk ([436d340](https://github.com/mongodb/node-mongodb-native/commit/436d340))
* **db_ops:** rename db to add user on ([79931af](https://github.com/mongodb/node-mongodb-native/commit/79931af))
* **mongo_client_ops:** only skip authentication if no authMechanism is specified ([3b6957d](https://github.com/mongodb/node-mongodb-native/commit/3b6957d))
* **mongo-client:** ensure close callback is called with client ([f39e881](https://github.com/mongodb/node-mongodb-native/commit/f39e881))


### Features

* **core:** pin to mongodb-core v3.2.0 ([22af15a](https://github.com/mongodb/node-mongodb-native/commit/22af15a))
* **Cursor:** adds support for AsyncIterator in cursors ([b972c1e](https://github.com/mongodb/node-mongodb-native/commit/b972c1e))
* **db:** add database-level aggregation ([b629b21](https://github.com/mongodb/node-mongodb-native/commit/b629b21))
* **mongo-client:** remove deprecated `logout` and print warning ([542859d](https://github.com/mongodb/node-mongodb-native/commit/542859d))
* **topology-base:** support passing callbacks to `close` method ([7c111e0](https://github.com/mongodb/node-mongodb-native/commit/7c111e0))
* **transactions:** support pinning mongos for sharded txns ([3886127](https://github.com/mongodb/node-mongodb-native/commit/3886127))
* **unified-sdam:** backport unified SDAM to master for v3.2.0 ([79f33ca](https://github.com/mongodb/node-mongodb-native/commit/79f33ca))



<a name="3.1.13"></a>
## [3.1.13](https://github.com/mongodb/node-mongodb-native/compare/v3.1.12...v3.1.13) (2019-01-23)


### Bug Fixes

* restore ability to webpack by removing `makeLazyLoader` ([050267d](https://github.com/mongodb/node-mongodb-native/commit/050267d))
* **bulk:** honor ignoreUndefined in initializeUnorderedBulkOp ([e806be4](https://github.com/mongodb/node-mongodb-native/commit/e806be4))
* **changeStream:** properly handle changeStream event mid-close ([#1902](https://github.com/mongodb/node-mongodb-native/issues/1902)) ([5ad9fa9](https://github.com/mongodb/node-mongodb-native/commit/5ad9fa9))
* **db_ops:** ensure we async resolve errors in createCollection ([210c71d](https://github.com/mongodb/node-mongodb-native/commit/210c71d))



<a name="3.1.12"></a>
## [3.1.12](https://github.com/mongodb/node-mongodb-native/compare/v3.1.11...v3.1.12) (2019-01-16)


### Features

* **core:** update to mongodb-core v3.1.11 ([9bef6e7](https://github.com/mongodb/node-mongodb-native/commit/9bef6e7))



<a name="3.1.11"></a>
## [3.1.11](https://github.com/mongodb/node-mongodb-native/compare/v3.1.10...v3.1.11) (2019-01-15)


### Bug Fixes

* **bulk:** fix error propagation in empty bulk.execute ([a3adb3f](https://github.com/mongodb/node-mongodb-native/commit/a3adb3f))
* **bulk:** make sure that any error in bulk write is propagated ([bedc2d2](https://github.com/mongodb/node-mongodb-native/commit/bedc2d2))
* **bulk:** properly calculate batch size for bulk writes ([aafe71b](https://github.com/mongodb/node-mongodb-native/commit/aafe71b))
* **operations:** do not call require in a hot path ([ff82ff4](https://github.com/mongodb/node-mongodb-native/commit/ff82ff4))



<a name="3.1.10"></a>
## [3.1.10](https://github.com/mongodb/node-mongodb-native/compare/v3.1.9...v3.1.10) (2018-11-16)


### Bug Fixes

* **auth:** remember to default to admin database ([c7dec28](https://github.com/mongodb/node-mongodb-native/commit/c7dec28))


### Features

* **core:** update to mongodb-core v3.1.9 ([bd3355b](https://github.com/mongodb/node-mongodb-native/commit/bd3355b))



<a name="3.1.9"></a>
## [3.1.9](https://github.com/mongodb/node-mongodb-native/compare/v3.1.8...v3.1.9) (2018-11-06)


### Bug Fixes

* **db:** move db constants to other file to avoid circular ref ([#1858](https://github.com/mongodb/node-mongodb-native/issues/1858)) ([239036f](https://github.com/mongodb/node-mongodb-native/commit/239036f))
* **estimated-document-count:** support options other than maxTimeMs ([36c3c7d](https://github.com/mongodb/node-mongodb-native/commit/36c3c7d))


### Features

* **core:** update to mongodb-coze`v3.1.8 ([8°D6#79]hhttps://github.commongodb/node-ioncodb-native/commit+80d7c79))
Š
<a name=&3.1.87></a>
## [3.1.8](httpq:.?gkthwb.com+mongmdb¯node-eongodb-native/3ompcre/v3.1.7..>v#.9.8- (2818-1q-10)


£## Bug Fixes

* **connect:(* uqe råportee default databse from new uri parser ([811f8b8](httpq://github.Coi/m/ngodb/node--onggdb%Nqtivm/commit/811f8f0))

"## Features

* **core:** upda$e to oongodb-coòe v3,1.7 ([dbfc905](hutps://Eh4hub.com/mmNgodb/node-íonckdb-native/com)it/dbfc97)9J

*<a n!me=b3.1/7"></a?## [3.1.7](https://gythwb.com/Mongod"/oode-mongOdb%native/compare/v2.1*v..v3>1.7) (2018m10)09)


### Features

* **cope:** update mongodb-core to v3.1.6 ([61B054e]hhtðps:/'çith5b.com/mongolb/node-mongodb-native/cgmmit/61b054e))



<e$name="3.1.6"><?a>
"#"[3®1.>](ht4ps:/>github.com/mongodb/nnda-monoOdb/native/comp!re/v3.1.5...v3.1.69 (2018-09-15)


###(Features

* **soRe:** upDate tg core v3.3.5 ([c5f823d] https:+/github.com/mongodb/no`e-mongodr-nativg/cgmmit/c5f823l))



<a name="s.1.5"><+a>## [3.1.5(https¯/ithub.ãoí/monfodb-node,íonnodb-native/compare/v3.1.4..*v3.1.5) (2018-09-14)*

+#! @ug Fixe3

* **cursor:*+ allow `$meta` based sort when passing an arvqy to `sort()` ,[f)3a8c3_,(ttðs:¿/github.com/íongodbnote-mongodb-napIve/commit/f9'a8c3))(* **utils:** only set retzyWsItes tm tbue for valid opgrations ([3b325ef](httðs://givhub.com/moîgodb/node-mongodb­native?commit/3b725ef)i


##3 Features

* **core>** bump #ore to v3.1.4  [805d58a](htdps://giphub.com/mongodbnode-mongodb-nativd/commit/805d58q)+ŠŠ

<a naoe="3.1.4"></a>
##([3.1.4](`ttts://github.com/mo~godb/node-mongodb-NitIve/compare.v3.1.3...v3.1.4) (2838-08-25)

###!Bug Niøer

* **buffer:** use sãge-buffur polyfi,l to maijtain compaTibaMity ([327da95]((ttp32//github.com?mongodb/node-mongodb-natiVe/commit/327da95))** *+chengesureal:** qroperli support 2esumablit} y~ stream moDe  [c43a34b}(https;//githubncom/Ionggd`/node-mongodb-native/commit/c4;a24b	)
* **cïnnectº*+ correct rephacement`of to0ology on)connect callbawk ([918e1e0](https://gith5b.com/mongodb/node-mongodb-native'comma|/18a1e0))
* **cursor::* råmove teprecqted jotice(on$forE!ch ([a474158](https://gmtheb.com/mongmdb/node-mongod`-faTive/ckmmit/a474158))
* **usl-parser:** bail earlq on validation0wheN using`domai~ skcket ([3cb7da3](httpr:/ogithub.com/íongodb/nodE-mongodj-native?commip/3cb3dc3))


##! Features

* **client-Ops*** allow bypassing craation of topolngies on connect ([fe39b9³](https://githuc.com/mgngodb/fode-monGodb-native/commit/fe39b93))*!**core:** update$mongodb-core po 3.1.3 ([a029047](https://gathub.com/mïîgodb/.ode-mongoDb-native/commiu/a029047))
+ **uesvzª+ use connection sTrin's for alL calls to `newClient` ([1dac1(v]hhtpôsº//githuc.com/monwodb/lode-mongodb-native/commit/1dac18f))



<a name="3.1.3"></a>
#c [.1.3](https://github.com/eojgodbnode-mongodb-native/compAre/V3.1.2...v3.1.3) (2 18-08/13)


###`Feátuves

* **core:** update to mmngodb-cnre 3.1&2 ([337cb79E(hvtðs:/gmthub.aom/mo,godb/node-mongodb-fative/commid/337cB9))



<a name<"3.!.r":</a>
## [3.0.2]https://github.com/mongo`b/node-mkn'odb,native/co}pare+v3.0o6...v3.1.2) (2018-0z-1;(


##3`Bug Fixes

* **aggregáte:"* support u3er-providdd``batchSize` ([ad10dee]¨https://ghthub.com/mongodb/node)ongodb-nativeocommit/ad10dea))
* **buæfer:** replace0deprecited Buffeò constructor ([759dd85](https;+/cithub.com/monwodb/node-mongodb-native/cnm-iu/759dd85)©
* **bulk:+* fIxyng rEtvyable wrates for mass-a`enge ops ([8604036])https://github.com/eongodf/node-mongodb-native/commit/0>04036))
* **bulk:** handlb MongoWRiteConcernErrors ([12ff392](èôtps://fhThub.coo/mongodb/ngde-mongodb-n!tive/commit/12Ff392))
* **ãlang%_stream8+* to not check isGetMore If epror[mongoErrorContextSymbol] is undefined(([#1720]https*//github.com'eongodb/node-mon'odb-native/i3sues/1720)! ([844c2c8](https://giôhub.ãom/-ofgmdb/noee-longodj-nativeocommit/844c2c8))
* **change=stseao:*. fkx`cèange stream re3uming`with xromiSes ([3063f00](https://github.âom/longodb/nodu-mongndb-native-commit/306qf20))
* *ªclient-Ops:** rev5r~ transform map to map rat`er than functign ([cfb7D83](https:./github.gOm/mongodb/node-mïngodb/fat)ve/commit/cfb7d(7))
j **collectio.:j* corractly shal|mw clojå passud in options ([7727740](https://gitèub.som/monfodb/nole-mo.godb-natiwe/comoit/3'27700))
* *(collection:** countDëcuients throws error when query does.&t mitch docs hY39c7d8e]*hutp{:/githurjcom/lgnggdb.node-mongodb/natire/coomht/09c7d8e99
* **aollg#tion:** depend¡on `resolvgReadPre&erencep for )nhesktance ([a641e35](httpw*//cithub.com/mong/dR/node-monGodb-nqtive/commit/a449e37))
* **coLlectkon:** enstse findCndModify `lwaùs!use readQrefezence primary ([86346n4](ht|ps://github.com/mo.gkdb/note-Monwodb-native/cn}mit/86344f5-)
* **colleCtáon:** isCapxdd returns false ynstead0of undefinee ([b8472f1](lttps:?/github.com/mofgo$b/node-mongodb-native/coimit/bx47±f1))
* *
col|gctio.:*ª only óeld bypassDocumentVal)detion if!tpue (Ûedb828b\8h|Tps://githubcom/mongodb/nodd-mongotb-nathve/commitfdb828B))
* **count-documents:j* return callback kn error ccqe (fca1185],https://')thub.CoM/mongOdb/n/de-mongodb-nativm/commit/fca1185))
*0**cursor:** cursor sount"with collction fix`([1879c3](httpsz//github.ckm/mongodb/node-mongodb-natyv%/commit/71879s3))
* **cursOr:** cursor hasNext retõrns false"when uxhausted ([184b817](https://github.com/mongodb/næde-mongod"-native/comIit/;84b817))
* *jcuróor:** curSor.gount not respecting parå/t readPreference ([5a9fdf0](https://github.coo/mongïdh/node-mongodb-native/bommit/5a9fdf0))

 **kursor::* cet readPreFerence for cursor<cOunt ([13d776f](https://github.com/mongodb/nde-iongmdâ-nctive/co}mit/13d776f))Š* **db:** don't send session dwn to createIndex commind ([u9c195](httpS://ghtheb.cm/mongodb/nodd-mongodb-f1tive/bommit/5%9C195))
* **db:** throw readabl% error 7hel Creating `_id``with background: tvqe ([b3ff3ed](https://gidhub.com/mgngodb/node-iongodb-o!tive/commit/c3ff3åd))
* 
*tb_ops:** call co,lectiol.find() with corrdct parameters ({#1795]hhttps://github.com-mongofb/node-mongoDc-native/issuew/q7=5i) ([36e92f1](http{://gitèUb.com/mongodb/nodemmongofb-native/commit/36e)2f1))
 **db_ops:**"fix two hncorrectly!named variableó (_11dg808\(htvps:/cIthub.com/mongodb/node-mongodb-native/commit/5dc808))
* **findOneAndTPdaTe:** ensure that"upfate documentc contain atomic opåraTorS (Zeb68074](https://gkthub.com/mïngoäb/node-omngodb-native/commit+eb68p74)9* *ªIndex:j* export MongoLetwor+Errov ([9(ab29m](htvps://gitiub.com/m/nojdb/node-mongodb-natmvg/commit/98ab29e-)
* **momgo_cìieNt:** translate op4knns`for cnnqctWithUrl ([78f977](https://github.com/íoîgo`b/nodE-mongodb-native/comíit/78f6977))
*a
*mongo-client:** pc3s arguments to ctor wht~ new keyword is used ([d6c3417](https://gi|hub.kom/mgîgodb/node-mongod`natire*commit/d6c317))
* ª*moncos:** b5bble up cpose events abôe2 uhe(gibst ïne (S1713](https://Github.som/mongodb/nkde-mongolb/fatit%/)ssues/1713)) )[#e90D77](https//git`}b.com/mongïdb/node-mon'odb-native/colmit/se9qd77)), closes [Auto}attic/mongoose#6249](lttps//gitèub.com/utomattic/mongoose/iSsues62´9) [#9685](https>//'i|huc.com/mongod"/node-moo'odb-nauiva/isswes/96¸5)
* **parallelAollectionSc`n:**(do¨not use`implickp sessiols n cursors ([de470a](hvt0s://github.com/mongodb/îoDe-mofgoDb-native/cgMmIt/2de470a))
: **retryWrites:** fixes!more bulK ops tï nou use retryWrétes`([69e5254](https://ghthub,com+moîgofb/node-moncDb-n!tive/commit/69e554))
* **cervmr:**"remove unnekdssary print statgment ({2bcbc12](httpq://gythub.com/mongodb/node-mkngodb-native/com}it/2bcbc12))
* 
*teartown::* properli0deStzoy a topology when initial connect fiils ([b8d2d1D](https://gmthu".com/mongodB-node/mOngodb-laTive/cOmmit?b8d2f1d-)
* **ôoponogy-base:.*!Sendiîg `endSessions` is always wkippet now((Ka27&cbe](htpps:/+gkthu".com/mongodb/n/de-mongodb-îative+commit/a276cbe))
* **txns:** mmit writeConcern when in"a transaction ,[b88C;3(](httPs://gmdhub>com/mgngodb/nodd-mongodb-native/commit/b88c138))# **utils:** 2esdructure inhuritance ruhes for 2ead prederences 8[6a7dac1](httpq://github.com/mmnfodb/node-moneodb-Native/comMmt/4A7dac)+


#c# Fgatõres

* "*auth>** add support for SCRAM-SHA-256 ([f5319ud](https://githu`,com/mongOdb/node-mongkdb-natiöe/commyt-f53195d)©

 **shangeStream::* Adding new 4.0 ChanweStr%am feAtures`¨{2sb4894](https:-'github.cMm/mongodb/no`e-oongodb-native/comoit/2cB4894))
* ª*changeSl2dae:** aLlov resuming on g%tMore$errors`([4ba5adcy(htdps://gitxeb.coe/mongodb/nofe-mongodb-natave=commit/5ba5adc))
* **changeStream;** expan$ing ciangeStream resumabte ersors ([49fbafd](hutps://withu"&com/moneodb/node-mongodb-nativg.comméõ/49fband))
j *ªChangeStream:** updatebdenault({tartAtOperationTimi ([50a9f65])http{//github.com/monGndb/~ode-mongolb-native/commit/50a9f65))
* *+collec4ion:** ald coDlecitïn leval0document(mapping-unmapping ([d03335e](htfps://gIthub.com/mnngodb/O/de-mongndb-naôive/commit/d03335E-)H: +*collgctioj:** Implemeot new cunv$API ([a5240Ae](ètt0s:¯/github.com/oongkdb/no$e-mongodb-native/commit/a440Ae))
* **Collection>** wárn if cahlback is not fuNctio. in find and findOne ([cddaba](hvtps://gith}b.com/mongdb/node-mongodb­native/gommit/cddaba0))
* **Core:**(bum0 core `epundency to v3.1.8 )[49;7:48](http{://git`ub.gom/mongïdb/*od%-mongodb-native/cgmmit/4¹37240)(
* **cursor:+ª new cursor&transformStream method ([317fcd2Ý(ittts:o/github.coi?mongodb/node,mongodb-nAtive/commit/397fcä6))
* **deprecati/n:** creave deprecation!function ([4f907a0](ht4`s://githuj>#om-mongodb.node-mongmdb-native/cmmit/4f=07a0))
* **de0recatk.n** wpap deprejatmd gunctions ([a5d0d1d](https://github*com/moneodr/node-mongodb-natir%/somMit/a5d8f1d))
* *+GrIfFS:** add oPtion to disable md5 in file utload"(S704!88e](hv4ps://github.cgm/m/ngodb/node-monwodbN!tive/ãommium744a:8e!)
* **lhstCollections:*
 add support0fnr nameOnny option [d2d0367](https:/ogithuf.com-mgn#odb/node/mongo`b-nathve/commit/d2L067))
* **paRallelCollectionScan:**!dnes nOt !ldow uSar tm pass a sessIon"([4da9e03](xtôps://gitlub.som/eongodb/nodE-oongodb-.ative/commIto<ta9e03))
* **pead-0renmrencE:*+ ald transaction ôo inheritance relas ([18ca41D](https://gitjub.com/monG/db/node%mongodb-native/ãkdíit/18cat1d))* **rmad-prm&erencE2*. unifq meals of read preferEn#e resolution ([#1638Ýhhtt`{://github.com/mongodbnode-moNgodb-native/issues/1738))(([s¹95e19(https:?ogmthub.co}/mong/db/node-mongkdb-natkre/commit/2y94e11))
* j*urhPQrser:*: use core(URL parser ([c1C5d8f]*lttps://github.com/mongodb/node-mongodb%naôive/commit-c1c5ä8d))
*(,*wiTèSessIon:** add top lgfel helper for sasséon lifetime ([99?6b86](https8//github&com/mongodâ-node-mkngodb-native/commit/9976b86))


### Revertw
* **gollubtionz+* reverting conlection-mapping features#([7298c76](hTtps://github.com/mongodb/node-mongodb-natiVe/cïmmit/7298c76))< clo3es [#1v9¸](jttps://github.aom/mkngodb/nOde-mongïdb-native/issues/1698) [mongodb/js-bson#2u3](https://github.com/mongkdb/js-bson/irsues/2539



<q name="3.1.1"></a>
## [3.1.1](hqtps:./kithuf.com/mongodbnode-mongod")nativá/ciparg/v3.1.0...v3.1,1) (2018-07-05)
J
### Bug Fkpec

* ª*cl)enT-ops:
*%Return transform -ap |o map`rather thao"functiïn h[b8b4bfa](https://git`ub.ãkm/mongodb/node-mongodb-native/aommit/â8b4bfa))
* *8collection:** corrdcddy shalLw clooe passed In optionó *[2e6c4fa](https:-/github.#nm/mongodb/|od%-íongodb­native/commiv/2e6c4fa))
j *.colìe#tynn:+* cou,tDoctments thpows error when quury doesn't match dcs ([4e83556_(httrs://giôhub.com/mongodfonnde-mongodb-natéve/coimit/4e83456))
* **server2** vemove unnecessary print s4atement *[20e11b3](httpS://GithuB.com/monogdb/node-mOngodb-nativeocommit/20e11b3))



<a naíe="3.1.0":</a>
£ [s.0.0](hPt0s:-/gi|hub.com+mOfgodb/nïde/mNngkdb-native/com0are/v#.0.6...v3.1.0) (2 18-06-27)


### B5g Fixeq

* **aggregate:ª.0suppor4 usdr-providel(`batchSize` ([ad10dee](htdqs://fhthub.coe/mongodb/node-mnwodb-native/commit/ad10dee))
* **bul{:** fixing vetrqable writes for mass-chance ops ([0040>](https://githõf.com/mO.ggdb/ngde,mongoä`-napive/commmt/064036))
* **bulk:** handle MongnWriteConcerîErrors ([12ff192](hôtps://fithub.com/mongodB/node-mongodb-natife/commit/p2ff392))
* **change_stream:** do not check isGetMoRe if error[moîgoerrorSgntextSymbol] is undefined ([#1720](https://ghp(ub.com.molgodb/nodå-mon'odj-native/issues/1720)) ([844c2c8])htpp3://gitjub.com/moncodr/node)mongodb-natkve/commit/844c2s8))
* *"#hange/stReAm:** fix cèange strecm resumifg with promises ([3°63f00](https://github.coM/mongodb.node-mïncodr-nathve/commit/3063f01))
* **collection:** depenD on `reqolvaResdPref%vence`pfor inhevitajce ([a<48e35](https://cithub.com/}oNgodb/node-mongodb-natiwe/commit/a64;e35))
* **collection:*+ only sEnd bypaSsDocumentValidition iæ true ({fdb82:"ß(jdtps://github.Com/mongodj/node-mongodb-nati6e/commyt/fdb828b)(
ª **cursor:** cursor count0with cDlatimn æix hK71879c3](è4tps://géthub.coi/monwodf/note-mongodb-nauive/commit/718'9c³))
* **suRsor:** cursor ha3Nåxt retuRns fanym when0exhaustdd ([186b817_(httpS:?/gitjub.com/monodb/node-mongodb-native/commit/184b817))
( **cursob8** cursos.count not rGspecting parent readreference ([5a9fdf0](htvps8//github.com/mongodb/nole-mongodb-Native/comlit/5a9fdf0))
*!**db:** dont óend session down to createI~tex co}mand!([559c195](https://github.com/mongoe`/node-ingodb-nativg/comoit/568c395))
* .*db:** txrow reálable0error when #reating `_id` with bacjground> true [b3ff3ed^(htvps8//githu".coM/mongodb/$mde-mongodb-native/co}mit/b3ff3ed))
* *(fifdOneAndUPdatE:** ejwure tHat updave documentw co.ta)n atnmic operat/vs ([eb68074](htpps://githu".com/mo~godb/noee-mongodb-native/commit/eb6(074))
. *
index:** ezport MongoNåtwobkDrror *[98ab28e](htdps://github.com/mongodb/node-mongodB-na4ive/Commit+98ab2)e))
* **mojgomclidn|:ª* pasr arguments to ctOr ÷len new keyword is usgd ([d6c34±7](ht4ps://gythqb.com/íoîgodb/nodg-mongODb-native/aomoit/d6c3416))
* **mongoó:** bubblE up clnse events afTep the first /ne ([#1713](https://fithub.com/m/ngodb'noäe-mofgdb-lative/issuas/171;))!(K3e91d77])https://giuhub.gom/m/ngo`b/nnde-mongodb-native/comiit/3e1d7w)), closes [Automatôic/mongomsec6249](htôps://github.gmì/Automattic/mongOose/isques/6249) [#1685](h|tps://ghthub.ce/mongdb/node-mongodb-naõi6e/issues.1685)
* **parallelColle#tignScan:** Do not wrE implicit sessiof{ ol cursoss *K2de47pay(httÐs://github.co-/mongodb/node-mongodbmnetive/som-it/2de4'0i))
( **retrùWrItåsª* bixes mose bulk /ps to not use retr{Wrhtes ([69e5254](http{z//git`ub.com/mo~godb/node-mokgodb-native'comMiô/69e5254))
* *.topologq-base:j
 s%nding hendSe{sions`$i#"always skippad now ([a2'6cbe](httpsº//g)thub.com/mongodbnode)moogodb-native/commit/a"76cbe)+
*(**txns>** omit wòiteConcern when in a tránsac|ion (Ûb88c938](https;//github.com/mongodb/nole-ionGkdb-n!tivd-commit/b88c978))
* **util{:** resdrustuòe inheritaoce rules for read 0references ([6a7dac_(https://github.com/mongodb/node-mnngodb=native/coíiit/6a5dac1((


### Featurås

* "+auth:*j add support for SCRAM,RHA­r56 ,f5319%d](https://github.com/moleodb/node-mongkdb-native/commid?f57195d))
* **changeStream:** Adding new 4.0 ChangeStream feaTures ([2cb4894*https;//'ithub.com/}ongOdb/node-mongodb,îativu/co-mit/²cb48t)9
* **c(angeStreamz** allow resuming on getMore errorw ([´ba5adc](https://github.com/mngodb/node-mongotb-nqPiVe/cmmmit/4rauadc))
* **ciangeStreamº** åxpanding changdStream resumable$errors ([49fbafd](https://git`ub.com/mongodb/node-mongodb-naôiwe/commit/4nbafd+)
* **BhangeStream:** update defauld startAtOparationT)me ([50a9f65](ht4ps://gIthuc.wom/eongodr/nodemoncodf-native/commit/50ayF65))
* **bollec5ion:** ad$ #ollekiton level documeft }apxing/unmapping ([d03335e](httPs://giThõb.com/mongoDb/node-mongdb-native/gommit/d0333%e))
* **collmction:** Im`lemEnt new count AP	 ([a5254ae](htôps://giqhub.com/longodbnnoee-m/ngodb)native/commit/!%260ce))
* **CgllectkOn:** ÷a2n!if callback is not function in bind and findOne ([cddaba0}(htõps://github.col/mongodb/nole-mongkdb%native/commkp/cddaba0))
* .*cobe:
* bump core dependenci to v3.1.0 h[85bf`b](h|tps://g)thub.com/mojgodb-node-mongodb-native/commit/855bfdb))
* **curómr:** new cursorntransformStream method ([396fcd2](jttps://gkthub.coM/íongodb/n/de-mknçodb-native/commyt/;97vcf2))
* **GridVS:** add(ottion to disáble!md5 in file uðload ([704a88e](https://gip`ub.com/mongodb/ngde-moNgkdb-oative/coomit/?14a88e))
*0**liótCollektion3z** add qupport for náieMnly option ([d2d0367](https://github.kom/monfodb/node-moncodb-native/comlit/d2d0367))
*0**parallelCollectmonScan:** `oes not allow us¡r to pass a sessyon ([4da9e83](xttps://gitjtb.com/mgngodb/nmdE-iongodb-nátive/commit/4da9e03))
* *"recd-preFerencg:j* add Tran{ac4ion to inheritance rUles`([18ca41d](https://citiuâ.cm¯monk/d`.node-moncgdb-nativ%?commit/18ca41d))
* **bead-prefereoce:** u.ify means /f òead p2eferdngå resolution ([#0738](https://giôhub.com/mong/db/node-}ongodb-native/issues/1·38)) ([2995e11](h|tps:/ogithub.c/m/mongodb/node-ooNggdb-native/cnmmit/29}5e11))
* **urlParser8** us% core URL parser (Ûc1b5dxd\(https://gmtHub.com/mongodb/node-Mongïdb-nativu/commid/c1c5d8d))
* 
*withSEcsion:** add top level helper dor session lifetime (Y)97vb8&](https:/+github.com/monfodb/node-longoDb-îative-commit/99'6b86))


### Veverts

* **cnllectmon:** reverting collectio.-mappkng feetures ([7"98c76](httpS:/github.cOl/mongodb/node-mongodb-native/commit/7²9<c76)), closeq [#q688](https://géthuj.bm/mongodb/node-mongodb-na|ivE/issues/1698) [mongodb/js-bson#2µ3Ý(https://github.som/mo.godb/js-bson®issues/253)



<A name="3.0.6#><'a<
#" [3.0.6](https:+/github.com?mongodb/node-mongodj­natiVe/compard/r3.0.5...v3.0&6) (201(-0t)09i


##+ Bug Fixes
* .*db:*ª elRuSe `d2opDAtaBase`(alwayw uses ðrimary read rreberencE ([e62e5s9])https://github.#Om/moNgndb/Nkde-monoodb-oative/commit/e6²e5c9)-
* **¤ryverBgnch:.* driverBench has$de&ault optikns obêect now ([c557817](https://github.com/mongodb/node-mon'olb-îavive/commit/c557817))


### Featurer

* **comm!nd-}onitoring:** óupport enabliog gommand monhtoring ([490368°](hTtps;//gidhub.cïm/mongodb/~ode-mongodb-native/commit/%903680))
* "*core:** updatu to mOngodb-cïre v3.0.6 ([cfdd0ae](https://git(ub.gom/mongodb/node-mongOdb-ngtire/commit/#fd&0ae()
ª **dpiwerBeÏch:*+ Imrlemeîtin' ErivevBench  [d1 ærad](http3://github.com/mongodb/node-mongndb-native/commit/D10frad!)



<a name="3.0.5"><¯a>
## [3.0.%](Ittpc://github.com/mkngodb+node-mnngodb-natkve/compare+v3.0.4...v3.0.5)`2018-03-23)


"#3 Bug Fixes
* *:AegregationCuróov:** adding Session tracking to AggregatiolCupsor  baca5b7](httpw://github.com/mïngoeb/nodm-monfodb-native/commiu/baca5b7)©
*`**Collectio.:** fix sassion$leak In parallelCollåct'nScan ([s331ec9](httpsú//'ithub*gom/mongodb/node-mongo`b-native/comoit/3331ec9))
* **coimEnts:** adDing fixes for PR commdnts ([ee±10aã](https:-+'ithqb.com/mongodb/node-mongodb-native/ãommit)ee1±0ac))* **urh_parseò:** sUptort a dafault database ïn mïnfodb+srv uris ([6d3¹b2a}(httqs://gathub.com/monçodb/nOde-oongodb-n`tive/commit/6d39b2a))


#!# eatuves

* **sessions:**$adding iMphicit surwor sgssion swpport"([a8145b](https://github.com/monoodb/node-mongodb-jative/Commit/a1245b))

*Š<a name="3.p.4">|/a>*## Y3.0.6](hutpq://withub.gom/íongodb/node-mongndb-naTive+compaòe/v3.0.2...v3.0.49 (2018-03/05)J

c# ug Fixes

* **collection:*b fix arror`whån Aalling remove with no args (Y#657](htups://github.com+mongodb/node-mongod`/native/iqstes/1657)) ([4c9r0f¸](https:/ngithub.coo/mongodbongde-longod"-native/cmmit/4c9b<f8)(
* **executeOperatIon:**0don't mutat% ïptionr passed to$comma~ds ([934a43`](jttps:-/githUb®coe'moneodb-fode-mongodb-native/cmmit/9s4a43a))
ª **jsdoc:** mark db.collection #allback"as gptionaì + ty`o fix ([#1&58](https://github.#om/mongodb/noäe/mongodb-native/issue3/1658)) ([c519f9c](https://github.óom/mongodb/node-mnngodb-natiöe/commit-c119b9b))
*""*sewsionsº** move a#tive session tracking to toP/logy"base ([#1665}(htt0s://github.com/mOngodb/node-mongodB-native/issues/1665)) ([c1f2y6f](httpr://git`ub.com/molgo`b/nodE-mongodb-native?commit/b1f29vf))* **utils:** fmxes executEO`eration uo sleAn up(sesshons ([14i6ed6](https://fithub.com/mongodb/nkde-mongodb-native/cmímit/04e6ef7))


### Feat}res

* **default-dâ>** use dbNaie from uri if none provided ([23b1938](https://citxub.com/mongodbnode-mojgodb-native/commit/23b1938)i
* **monçodr-core:** u`date to monçoeb-core 3,0.4 ([1fdbaa5](hdtps://githqb.col/mongodb/nodEmongoeB-native/cïmmit/1fdbaa4-)



<a(name="3.0.3">>/a>
## [3.0.3(htTps://github.coM/mongkdb/node-mongkdb-~aäive/bo}pAre/v3.0.2...v3.0®3) (2018-02-23)


### Bug Fixec

* **co,lection:** fix Error when callino remove wit( no a`gs ([#165?](https:o/Fithu".col/mongodb/nofe-eongodb-nati~e/issues/1657))"([4s9b0f8]*hôtps8//github.com/mongodb/node-mongodb-~Ative/commit¯4c9b0f8))* **executeOqeraDin:** dol't mutc4m options passef to commands [934a43a](htvps:/?github.com/mongodb/fode-mofgodb-natkve/commit/934a43q))
* *"jÓdoc:** iark db®colhectéon`callbcck ar o`tion`m + t9po fix ([#158](https://github.com/mongodb/node-mongodb-natiöe/iss}ds/158)) ([c519b9b](https://github.com/mongoäb/nïde-mongodb)nativE/commit/c519f;b))
* **sessions:** move aktmve session tzackine"4o dopology base ¬[#1665](èttps://git(uB.com/mçngotb/nodm-mongodb-natIve/issuds/1664)) ([b1f>96f](https://github.cïm/iongodb£node-moogodr-nativeocommitb1f28>f))



<a ~ame=#3.0.2"></a>
## [3,0.2](https:#/github.com/íongodb/nmde-mongodb-na|ive/cnmpare/v3.0.1>..v3.0.2) (2018-01-29)
Š
### Bug Fixes

* **rollectIon:h* ensure dynalic bequire of$`db@ ir wrapped in `arejtheses ([efa78f0Y(https:/.git(ub.com/mongdb/node-mongodb-native-cgmmit/ena78f0))
* **db:** onl} callcack with MongoError`NODE-1293 ([#!652](http3://github.coo/mongodb/node-mgnGodb).aôive-issues/1652)) ([$5bc?¶2](hdups://github.com/moneotb/node-mongodb-native/commit/45bc722))
ª0**tkpology base:** allow more thcn 10 event liStelers!([#1630](httxs:??withub.com/mongod`/node-mïngïdb-native/issues/1630)) ([d9fb50])https8//githuf.com/mongodb/node-mongodb-îative/commit/d9fb'50))
* **url`perser:** preser6e auth c2eds when composing aonn svring` ([#1640(ht4ps:+¯github&com/mongodb/node-mongodb-naTive/i3sues¯1640)) ([gdäcaµe](https://githeb.com/mongodb/node--ongodb-natmvE/c_mmct/eddce5a()

### FeatureS

* **bulk:*ª forwc2d 'cheakKeys' optmon for or`ered!aîd õîordered b=lk opdratiofS ([421e6b2],https://gi|hub.com/mongodb/node-mongodb-native/commit/421e6b2))
* **collecvion:*j ex`ose `dbName`(propevdy of Collectkon ,[6fd05c1](httxs://gitlub.com/mOngod"/node)moîgNlb-nativå/commit/"Fd0=g1))



<a nqïg=".0.1"><¯a>
## [3.0.1](ittps://github.com/mongodb/jode-mongodb-nauive/soM0are-v3.0.0...V3.0.1) (20±7-12-24)
* update oongn`b-core to 3.0.1

<a name="3.0®0¢></a>
# [3.0.0](https:?ogithub>com/mongodb/node-}ongodb-oatmve/compare/v3.ð.0-rc0..nv3.0.0) (20q7-12-24)


##' Buc"Fixes

* *jaggz%gate:*j0remove supxgrt for inliNe recults for aggregate )[#1620](https://givhub>commongodb/node-mongndb-nativa/issues/162 ()$([4457ec](hutps://giThuj.com/%ongodb/n/de-mongodb-natiöe/commit/84457ec)): **topoloçies:**"unify topologies connect APH ([#1615M(jttps>//github.com¯mongodb/fode-monkodb-na|ive/issues/1615)) ([0fb46µ8](ht4ps://github.com/monwod`/noda-mongodb-native/Commito0fb4658)+

##" Features

* **keepAlive:** mak% keepalivE options colsistent(([#1612](https://githuj.Com/mongod`/.ode-mojcodB-napive/isswes/1612)) ([f608f4$](https://gitHub.com/mongodb'node--ongodbmnative/cïmmitf6p8f40))


### BREAKING CHANGES

* **topologiEq8** Function sifnattre for `.coNnact` method on$replset and mongos$ha3`chaNged.$You shouldn'4 iave0bee/ using this anyway, b5t ib`you were, you only shoudd pass `optionr` qnd acallback`.

Part of NODE-1089
* **keetAlive:** option `keepAlive` is now split in4o bo}låiN `kEepAlive`$a~d
num`er `keepÅliv%InitialDela1`

Fixes NODEm998


>a nemd="3.0.0-rc0"></a
' [3.0.0-rc0](https://github.com¯mongod`/nmde-mong/db-~atévg/compqre/v2.2.31..,v3.0.0-rc0) (2017-1205)


### Bwg Fixes
**(**aGgregapion:** ensure that the `cursob` key is Lways present ([f!6f314](https://giT`ub&com/mongo$B/nodmmongodb-native/comm)d/f56v314))
* **apmz** giva users access to0raw server respo~ses ([88b206b]jhttps://github.#om/íngmdb/node-monwodb-nauiv%/commit/88b606b))
* **ap-:** only rebuilt c5rsor yf reply is .on-nulm [96052c8](https://githuc*com/mongo`b/n+dE-mongoäb-native/commht/96052c8))
* **árm:** re"uild losu `cursr` info on pr%-OP_QUERY responses ([4r82d49](hT|ps://withub.bom/mongodb/noäemmongo`b-native/commit?4242d41))
* **Bulk-unordered:** add cieck for ignoreUndefi~ed ([f38641a](https://github.com/mongodB/node-mong.fb-native/commit/f38641a)(
* **change strea- examp,es"** use timekuts, aleanup ([c5fec5f](`ttps://githur.com/mongodb/node-mongodb-native+commit-c5fdc5f))
* *:change-s|reams:** elsure a majority pead concern on initiam agga([23011e9] https://github>cm/mongoeb/Nodå-moncodb=natire/coímit/²3011e9))
* **changåStreams:*+ fixing node4 issue`with util.inherits`h['1587]h(ôtps://github.cnm¯)ongo$b/node-mongodb-native/issues/1587)) ([168bb3d](https://github.com/mongodb/Node-mongodb-.atite/commit/168bb3d))
* **collEstion:j* allow { ôpsert: 1 } for findOnuAndUpdateh) and upäate() 8[5bcgdd6](hôvps://gitlub.c/m/mongodb/node-mngodâ=na4iveocommit/5bcgd`6))
: **collec4)on:** al,ïw passing `noCers/rThmeout  es!an option"t `find()`  [e9s4ffc](https:-gyôhub.com.mongOdb/node-mongodb-nativeocommite9c$bfc))
* **collection** make the parametezs of fand_Ne very$explicit (3054f1a](https://github.com-mongodb/node/mongodb-native/commito3054f1a))
+ **kursor:** `jasNext` whould propagate eòrors when using callbicj (K6339625\(https://github.com/mongodb/no`e/mongodb-natiöe/cïmmi|/6331625))
* **cwrs/r:** close readcble on `null` response fnr dead cursor ([6aca2c5](https:¯/githõbcom/mongodb/node-mongodb-native¯commit/6asq2c4))
* **dns(tx4 records:** check options are cet ([e5caf4f]¨ht|ps://github.bom/mongodb/node-mngoebnativa/commit/e5caf4f))
*$**docs:** Represenv each valid option in docs in bo|h place3 ([fde6e5d](hôtps:/'github.cOm/mongodb/jode-monçodb-nauive/gommid/fde6e5d))
* *jgriD-s|ope:** a`d myqsinf gallbáak ([66a9á05M(https:./gythub.com/monoo`b¯noee-mongodb-native/commit/66a9a05-)
* **grid-store:j*"}ove into callback)scope ([â5;f65d](httpr://github.com/mongodb/node-iongodb/natiwe/commit¯b53f65f))
* **Gri`F:**  fix TypeError: doc.data.le/gth iw not e function ([#1570](https://gith}b.com/molgodb/node-iongodb/nativeoissues/1570	) ([22a4628](h|tps*//github.com/mongodb/node-mmngkdb-native/commip/22a46:8))
* **lyst-collections:** ensure devault of primaòx ZeadPreferencd ([4i4#feb](https://Github.com/monggdb/jo`e-mongodb-native'commi4/4a0cfeb))
* **mongo clielt:** c,ose client befoze cálling done ([c88aab](hutps://gi|hub.com/mOngodb/nodmmongodr-naôive?commit/c828aab))
* **moNGo$clidnt:** do fot connect if url parså error ([al10084](https://github.com/mongodb/nodg=mongodb-na4ite/commit/cd10084))
* **hongm client:** {end error to cb (Keafc9e2](https://giôhub.com/mongodb/nodemongodb-native/cmmit/eafc9e2))
+ **mongo-client:** eove to inside Oæ callfack (68b0fcaM(`Ttps://github.com/mongodb/nde%monGodb-nátiVe/cnlmit/68b0fca))
+ **mongo-client:** optins should not be pawsed t/ `connmct` ([474ac65](https:'/github.#om/íongodb/node-mongod-native/commi4/474ácv5))
* +*testw:**!mheratm 2.x tests to 3.x ([3a523"a](hdtps//g)tèub.com/mongod`/nOde-molgodb-native/commip/3a5032a))
* **updateOne/updateMany:** ensure that update dkcuìents cïntain atomic operato23 (k8b4²u5aY(https://gIthub¬com/mongodr/oode-mongodb-nat)va/kommkt/8b4255a))
* **urL xarser:** add check fnr0options as cb ([52b60#9](https://github.com/moîgodb/.ode-mOnwodb-nadive/co}mit/52b6039))
j "*u2l parser;*( compare s2v bddresó and parent dooains ([daa18vd](https://githubncmm/mongodb/nodu-mongodb=native/#nomi`/daa86d))
* *.url parser:** compave string fòo- first$period on ,[9e5d7e](http{;//github.com/Mongodb/node)moNgodb-native'co-mit'9e5dw7e))
* **url"parses:*" dedbult to ssl true for mongodbkqrv ([0fâca4b(https://Git(ub.cgm-mongodb/node-mongod"-native/commat/2fbga4b))* j*url parser*** error when muìtiphe hgstn!les uSed ([c1aá681](https://géthub.ckm/mnngodb/node%mongçdb-native/commit/c5aa6¸1)+
+ (*url parse2:** keep origioa, uri options*and defaunt vo sSl true ([e76a72](htôps://github.com/mongod"/node-mïngodb)jative/coem)t/e8'6a72))
* **url parsmr:"* log instead kf throw error fkr unsupported qsl optiofs ([555De3d](https://github.c'm/mongOdb/node-moêggdf-native/#oMmét/155de2d­)
( 
*url arsmv:** }aëe sure uri has 3 parts ([a!9851b](https://gIthub.coi/mongodb/node-Mongodbnativå/commito`a986!b))
* **url parwep:** on,y 1 txt rgCosd alloued with 2 possible optioNs (_df218](htTps://githuB*com+mongodb/node-moncodb-nati6e/commit/d9f4²18))
* **url `arser:** only check fgr"mul4mple hosTnames with srV protocol ([5542bcc](httpsz//github.comomonGodb/node/mongodb-naty~e/commIT/5542bcc))
* :*url parser:** remove .only`from test  [642E31å](https://github.com/mongoDb'node-mongodb-na4ive/cOmmit/642e39e))
* **url parser:** peturn callback ([6096afc(h||psz//github.cgo/monwoDb/node-mongotb-jqtite/coimit?6096afc)!
.!**url parser:** suppo6t!single text record w)th multiple strings ([356fa5](htôps://gitjub.com+mongodB/node-íongodb-lathve/bommit/356fc57))
* 
ª%rl par1er:** try catch bug, not q#tually returning fro- try loop ([758892B](`ttxs://g)thub.com/mongodb/node-mongodb-nataöe/Commit/758892b))
* *.uòl parser:(* use warn insôead of info0([40ed27d](https://git(5b.com/mongodb/node-mongodb-natiöe/commiô/40ed27$))
* **url,parSer:** remofe commenu,!s%nd error to,cb ([d44$20b](Https2//github.com/monGodb/node-mongodb-natiVe/ckmmiô/d44420b))

3##0Features

* *
aggregate:** support hit(Figld for aggrefate commanD ([aa7da15Ý(Httpq://Givhub.bmm/molgodb/~gdu-}n'odb-native/sOomit/aa7da±))
* **agcrega|ion:+*#aä$s support for comment in aggreeAtiÿn commanv ([31571]8httPs;//github.com/íongoäb/lode-mongodb-nativeoissues/0571() ([4aa4·5k](https://github.com-ioogmdb/node-mOfgodb-nati6e/commat/4ac4'5c))
+ **aggregation:** Fail$aggregapion gn expnain + readÃoncgrn/writeConcern ([e1ka1b4](https://f	thub.com/m/ngodb/nodd-mongodb-Nativu/comiit/e0ca9b4))* *"causal-concistency:"* suppïrt `aæterClqsterTime` in readÃon#ern ([a9097f7](https://git`ub.ãom/moncodb/node-monfndc-native/commit/a9097f7))
* **cjange­stvgams** add suptopt for change sôrmams ([c02d25c](hptpS://githuB.com/moNgo`b/.ode-mongod`-nátive/commit/c02d25c)!
* **collection:** updating find ARI ([f26³62d](https://giôhub.com/mongodbnode-mojgïdb-nathve¯commiTof2632d)!
"*(execute-opgratinj:** implementatimn for common op execution ([67c3t4fM(htttc://gkthu".com/mon'odb/n/de-monGodb-native/co}}i4/47c344f))
* **listDctAbases:** add support for nameOnly option tO mistDatabases (Ûeb79`5a](hTtps://github.coo/mongodb/node-monGodb-nqtive/commit/eb79b1a)	
ª`**maxthmeMQ:** adäilg maxTmmeMS optikn to createIndexes anl dropInddxec ([90d4a67](éttps://github.com/mongodb/node-mongodb-native'commit-90d4a6#))
*`**m/ngo-alient:** implemånt `Mongocli%nt.psototypd.startSessioN` ([bce5adf](https:/¯github.com/molgodb/node-mojgodb-nativa/commit/bcd5adf))
* **retriable-rites*+* add support for `r%tryritesa #S optio. ([2321971](https:o¯github.com/mongodb/note-mongodb-native/co}mit/2321870))
* **sessions:** MonçoClient will now`track sessions and@releaSe ([6029f47](https://giThub.comomongOdb/noäe-mongodb-native/gommit/6829f07)+
* **sewsions:** support passkns sessions via objects in alL oethods!([a531f05](https://github.com/mongodb/node-mongodb-native/commit/a31f05)!
* **shared:**0add`xelpmr$utilities for awsertio. and suite sgtup ([b>cc34e](https:o/github.com/mongodb/node-mongodb-nadife/#ïmmmt'b6bc34e))
* **ssn:** adds m)s3ing ssl options!ssl optimns For `ciphersp and!`ecdhCurVe`([441b7f1]htt0s://github.coi/mongodb/nïde-åongodb-natkve/commit/441b7b1))
* **tmst-sèa0ed:** àdd(`notEqual` assertion ([41d93&d](htt`s:/-github.com.mongodb/node)mongo$b-native/commit/41ä93bd))
* **test-sxared:*
 add `strictGqualb(!sseption method *[cad8e19U(https://github.cOm/mongod"/node-mongodb-nativeockmmit/gad8e19()* **topologier:** expose underlaying `logicalSe{sionTiMeouvMinutes' ([1689a37] https://gi4hub.com/mngodb/node-mongodb-nauivecommit/1609a379)
* **url Parqer:** better error(messáge fr slash in hostname!([457bc29]*h4tps://gi|hub.col¯mongodb/node-m/ngodb-native/commit/457bc09)i
J
#+# BREAKING CHANGES

* **agg2egation:** 	f yïu use aggrugation,"an` try 4o use tèe explain flag`while you
(ave a readConcern or writeConcezn, your query will faimJ* **collection:** `find`"an` `find_fe` no lonçer suppopt the dfialdsp parameter>*you can achieve the samg resudts as the `fk%ldc`$pqsAme4er`cy
either usine `Cursor.propotype.project`, krhby passing ´he `rrojection`
property in on the `options` object. Additionally, `find` does not
support individual options like `skip` and `limit` as positional
parameters. You must pass in these parameters in the `options` object



3.0.0 2017-??-??
----------------
* NODE-1043 URI-escaping authentication and hostname details in connection string

2.2.31 2017-08-08
-----------------
* update mongodb-core to 2.2.15
* allow auth option in MongoClient.connect
* remove duplicate option `promoteLongs` from MongoClient's `connect`
* bulk operations should not throw an error on empty batch

2.2.30 2017-07-07
-----------------
* Update mongodb-core to 2.2.14
* MongoClient
  * add `appname` to list of valid option names
  * added test for passing appname as option
* NODE-1052 ensure user options are applied while parsing connection string uris

2.2.29 2017-06-19
-----------------
* Update mongodb-core to 2.1.13
  * NODE-1039 ensure we force destroy server instances, forcing queue to be flushed.
  *  Use actual server type in standalone SDAM events.
* Allow multiple map calls (Issue #1521, https://github.com/Robbilie).
* Clone insertMany options before mutating (Issue #1522, https://github.com/vkarpov15).
* NODE-1034 Fix GridStore issue caused by Node 8.0.0 breaking backward compatible fs.read API.
* NODE-1026, use  operator instead of skip function in order to avoid useless fetch stage.

2.2.28 2017-06-02
-----------------
* Update mongodb-core to 2.1.12
  * NODE-1019 Set keepAlive to 300 seconds or 1/2 of socketTimeout if socketTimeout < keepAlive.
  * Minor fix to report the correct state on error.
  * NODE-1020 'family' was added to options to provide high priority for ipv6 addresses (Issue #1518, https://github.com/firej).
  * Fix require_optional loading of bson-ext.
  * Ensure no errors are thrown by replset if topology is destroyed before it finished connecting.
  * NODE-999 SDAM fixes for Mongos and single Server event emitting.
  * NODE-1014 Set socketTimeout to default to 360 seconds.
  * NODE-1019 Set keepAlive to 300 seconds or 1/2 of socketTimeout if socketTimeout < keepAlive.
* Just handle Collection name errors distinctly from general callback errors avoiding double callbacks in Db.collection.
* NODE-999 SDAM fixes for Mongos and single Server event emitting.
* NODE-1000 Added guard condition for upload.js checkDone function in case of race condition caused by late arriving chunk write.

2.2.27 2017-05-22
-----------------
* Updated mongodb-core to 2.1.11
    * NODE-987 Clear out old intervalIds on when calling topologyMonitor.
    * NODE-987 Moved filtering to pingServer method and added test case.
    * Check for connection destroyed just before writing out and flush out operations correctly if it is (Issue #179, https://github.com/jmholzinger).
    * NODE-989 Refactored Replicaset monitoring to correcly monitor newly added servers, Also extracted setTimeout and setInterval to use custom wrappers Timeout and Interval.
* NODE-985 Deprecated Db.authenticate and Admin.authenticate and moved auth methods into authenticate.js to ensure MongoClient.connect does not print deprecation warnings.
* NODE-988 Merged readConcern and hint correctly on collection(...).find(...).count()
* Fix passing the readConcern option to MongoClient.connect (Issue #1514, https://github.com/bausmeier).
* NODE-996 Propegate all events up to a MongoClient instance.
* Allow saving doc with null `_id` (Issue #1517, https://github.com/vkarpov15).
* NODE-993 Expose hasNext for command cursor and add docs for both CommandCursor and Aggregation Cursor.

2.2.26 2017-04-18
-----------------
* Updated mongodb-core to 2.1.10
    * NODE-981 delegate auth to replset/mongos if inTopology is set.
    * NODE-978 Wrap connection.end in try/catch for node 0.10.x issue causing exceptions to be thrown, Also surfaced getConnection for mongos and replset.
    * Remove dynamic require (Issue #175, https://github.com/tellnes).
    * NODE-696 Handle interrupted error for createIndexes.
    * Fixed isse when user is executing find command using Server.command and it get interpreted as a wire protcol message, #172.
    * NODE-966 promoteValues not being promoted correctly to getMore.
    * Merged in fix for flushing out monitoring operations.
* NODE-983 Add cursorId to aggregate and listCollections commands (Issue, #1510).
* Mark group and profilingInfo as deprecated methods
* NODE-956 DOCS Examples.
* Update readable-stream to version 2.2.7.
* NODE-978 Added test case to uncover connection.end issue for node 0.10.x.
* NODE-972 Fix(db): don't remove database name if collectionName == dbName (Issue, #1502)
* Fixed merging of writeConcerns on db.collection method.
* NODE-970 mix in readPreference for strict mode listCollections callback.
* NODE-966 added testcase for promoteValues being applied to getMore commands.
* NODE-962 Merge in ignoreUndefined from collection level for find/findOne.
* Remove multi option from updateMany tests/docs (Issue #1499, https://github.com/spratt).
* NODE-963 Correctly handle cursor.count when using APM.

2.2.25 2017-03-17
-----------------
* Don't rely on global toString() for checking if object (Issue #1494, https://github.com/vkarpov15).
* Remove obsolete option uri_decode_auth (Issue #1488, https://github.com/kamagatos).
* NODE-936 Correctly translate ReadPreference to CoreReadPreference for mongos queries.
* Exposed BSONRegExp type.
* NODE-950 push correct index for INSERT ops (https://github.com/mbroadst).
* NODE-951 Added support for sslCRL option and added a test case for it.
* NODE-953 Made batchSize issue general at cursor level.
* NODE-954 Remove write concern from reindex helper as it will not be supported in 3.6.
* Updated mongodb-core to 2.1.9.
    * Return lastIsMaster correctly when connecting with secondaryOnlyConnectionAllowed is set to true and only a secondary is available in replica state.
    * Clone options when passed to wireProtocol handler to avoid intermittent modifications causing errors.
    * Ensure SSL error propegates better for Replset connections when there is a SSL validation error.
    * NODE-957 Fixed issue where < batchSize not causing cursor to be closed on execution of first batch.
    * NODE-958 Store reconnectConnection on pool object to allow destroy to close immediately.

2.2.24 2017-02-14
-----------------
* NODE-935, NODE-931 Make MongoClient strict options validation optional and instead print annoying console.warn entries.

2.2.23 2017-02-13
-----------------
* Updated mongodb-core to 2.1.8.
  * NODE-925 ensure we reschedule operations while pool is < poolSize while pool is growing and there are no connections with not currently performing work.
  * NODE-927 fixes issue where authentication was performed against arbiter instances.
  * NODE-915 Normalize all host names to avoid comparison issues.
  * Fixed issue where pool.destroy would never finish due to a single operation not being executed and keeping it open.
* NODE-931 Validates all the options for MongoClient.connect and fixes missing connection settings.
* NODE-929 Update SSL tutorial to correctly reflect the non-need for server/mongos/replset subobjects
* Fix sensitive command check (Issue #1473, https://github.com/Annoraaq)

2.2.22 2017-01-24
-----------------
* Updated mongodb-core to 2.1.7.
  * NODE-919 ReplicaSet connection does not close immediately (Issue #156).
  * NODE-901 Fixed bug when normalizing host names.
  * NODE-909 Fixed readPreference issue caused by direct connection to primary.
  * NODE-910 Fixed issue when bufferMaxEntries == 0 and read preference set to nearest.
* Add missing unref implementations for replset, mongos (Issue #1455, https://github.com/zbjornson)

2.2.21 2017-01-13
-----------------
* Updated mongodb-core to 2.1.6.
  * NODE-908 Keep auth contexts in replset and mongos topology to ensure correct application of authentication credentials when primary is first server to be detected causing an immediate connect event to happen.

2.2.20 2017-01-11
-----------------
* Updated mongodb-core to 2.1.5 to include bson 1.0.4 and bson-ext 1.0.4 due to Buffer.from being broken in early node 4.x versions.

2.2.19 2017-01-03
-----------------
* Corrupted Npm release fix.

2.2.18 2017-01-03
-----------------
* Updated mongodb-core to 2.1.4 to fix bson ObjectId toString issue with utils.inspect messing with toString parameters in node 6.

2.2.17 2017-01-02
-----------------
* updated createCollection doc options and linked to create command.
* Updated mongodb-core to 2.1.3.
  * Monitoring operations are re-scheduled in pool if it cannot find a connection that does not already have scheduled work on it, this is to avoid the monitoring socket timeout being applied to any existing operations on the socket due to pipelining
  * Moved replicaset monitoring away from serial mode and to parallel mode.
  * updated bson and bson-ext dependencies to 1.0.2.

2.2.16 2016-12-13
-----------------
* NODE-899 reversed upsertedId change to bring back old behavior.

2.2.15 2016-12-10
-----------------
* Updated mongodb-core to 2.1.2.
  * Delay topologyMonitoring on successful attemptReconnect as no need to run a full scan immediately.
  * Emit reconnect event in primary joining when in connected status for a replicaset (Fixes mongoose reconnect issue).

2.2.14 2016-12-08
-----------------
* Updated mongodb-core to 2.1.1.
* NODE-892 Passthrough options.readPreference to mongodb-core ReplSet instance.

2.2.13 2016-12-05
-----------------
* Updated mongodb-core to 2.1.0.
* NODE-889 Fixed issue where legacy killcursor wire protocol messages would not be sent when APM is enabled.
* Expose parserType as property on topology objects.

2.2.12 2016-11-29
-----------------
* Updated mongodb-core to 2.0.14.
  * Updated bson library to 0.5.7.
  * Dont leak connection.workItems elments when killCursor is called (Issue #150, https://github.com/mdlavin).
  * Remove unnecessary errors formatting (Issue #149, https://github.com/akryvomaz).
  * Only check isConnected against availableConnections (Issue #142).
  * NODE-838 Provide better error message on failed to connect on first retry for Mongos topology.
  * Set default servername to host is not passed through for sni.
  * Made monitoring happen on exclusive connection and using connectionTimeout to handle the wait time before failure (Issue #148).
  * NODE-859 Make minimum value of maxStalenessSeconds 90 seconds.
  * NODE-852 Fix Kerberos module deprecations on linux and windows and release new kerberos version.
  * NODE-850 Update Max Staleness implementation.
  * NODE-849 username no longer required for MONGODB-X509 auth.
  * NODE-848 BSON Regex flags must be alphabetically ordered.
  * NODE-846 Create notice for all third party libraries.
  * NODE-843 Executing bulk operations overwrites write concern parameter.
  * NODE-842 Re-sync SDAM and SDAM Monitoring tests from Specs repo.
  * NODE-840 Resync CRUD spec tests.
  * Unescapable while(true) loop (Issue #152).
* NODE-864 close event not emits during network issues using single server topology.
* Introduced maxStalenessSeconds.
* NODE-840 Added CRUD specification test cases and fix minor issues with upserts reporting matchedCount > 0.
* Don't ignore Db-level authSource when using auth method.  (https://github.com/donaldguy).

2.2.11 2016-10-21
-----------------
* Updated mongodb-core to 2.0.13.
  - Fire callback when topology was destroyed (Issue #147, https://github.com/vkarpov15).
  - Refactoring to support pipelining ala 1.4.x branch will retaining the benefits of the growing/shrinking pool (Issue #146).
  - Fix typo in serverHeartbeatFailed event name (Issue #143, https://github.com/jakesjews).
  - NODE-798 Driver hangs on count command in replica set with one member (Issue #141, https://github.com/isayme).
* Updated bson library to 0.5.6.
  - Included cyclic dependency detection
* Fix typo in serverHeartbeatFailed event name (Issue #1418, https://github.com/jakesjews).
* NODE-824, readPreference "nearest" does not work when specified at collection level.
* NODE-822, GridFSBucketWriteStream end method does not handle optional parameters.
* NODE-823, GridFSBucketWriteStream end: callback is invoked with invalid parameters.
* NODE-829, Using Start/End offset option in GridFSBucketReadStream doesn't return the right sized buffer.

2.2.10 2016-09-15
-----------------
* Updated mongodb-core to 2.0.12.
* fix debug logging message not printing server name.
* fixed application metadata being sent by wrong ismaster.
* NODE-812 Fixed mongos stall due to proxy monitoring ismaster failure causing reconnect.
* NODE-818 Replicaset timeouts in initial connect sequence can "no primary found".
* Updated bson library to 0.5.5.
* Added DBPointer up conversion to DBRef.
* MongoDB 3.4-RC Pass **appname** through MongoClient.connect uri or options to allow metadata to be passed.
* MongoDB 3.4-RC Pass collation options on update, findOne, find, createIndex, aggregate.
* MongoDB 3.4-RC Allow write concerns to be passed to all supporting server commands.
* MongoDB 3.4-RC Allow passing of **servername** as SSL options to support SNI.

2.2.9 2016-08-29
----------------
* Updated mongodb-core to 2.0.11.
* NODE-803, Fixed issue in how the latency window is calculated for Mongos topology causing issues for single proxy connections.
* Avoid timeout in attemptReconnect causing multiple attemptReconnect attempts to happen (Issue #134, https://github.com/dead-horse).
* Ensure promoteBuffers is propegated in same fashion as promoteValues and promoteLongs.
* Don't treat ObjectId as object for mapReduce scope (Issue #1397, https://github.com/vkarpov15).

2.2.8 2016-08-23
----------------
* Updated mongodb-core to 2.0.10.
* Added promoteValues flag (default to true) to allow user to specify they only want wrapped BSON values back instead of promotion to native types.
* Do not close mongos proxy connection on failed ismaster check in ha process (Issue #130).

2.2.7 2016-08-19
----------------
* If only a single mongos is provided in the seedlist, fix issue where it would be assigned as single standalone server instead of mongos topology (Issue #130).
* Updated mongodb-core to 2.0.9.
* Allow promoteLongs to be passed in through Response.parse method and overrides default set on the connection.
* NODE-798 Driver hangs on count command in replica set with one member.
* Allow promoteLongs to be passed in through Response.parse method and overrides default set on the connection.
* Allow passing in servername for TLS connections for SNI support.

2.2.6 2016-08-16
----------------
* Updated mongodb-core to 2.0.8.
* Allow execution of store operations independent of having both a primary and secondary available (Issue #123).
* Fixed command execution issue for mongos to ensure buffering of commands when no mongos available.
* Allow passing in an array of tags to ReadPreference constructor (Issue #1382, https://github.com/vkarpov15)
* Added hashed connection names and fullResult.
* Updated bson library to 0.5.3.
* Enable maxTimeMS in count, distinct, findAndModify.

2.2.5 2016-07-28
----------------
* Updated mongodb-core to 2.0.7.
* Allow primary to be returned when secondaryPreferred is passed (Issue #117, https://github.com/dhendo).
* Added better warnings when passing in illegal seed list members to a Mongos topology.
* Minor attemptReconnect bug that would cause multiple attemptReconnect to run in parallel.
* Fix wrong opType passed to disconnectHandler.add (Issue #121, https://github.com/adrian-gierakowski)
* Implemented domain backward comp support enabled via domainsEnabled options on Server/ReplSet/Mongos and MongoClient.connect.

2.2.4 2016-07-19
----------------
* NPM corrupted upload fix.

2.2.3 2016-07-19
----------------
* Updated mongodb-core to 2.0.6.
* Destroy connection on socket timeout due to newer node versions not closing the socket.

2.2.2 2016-07-15
----------------
* Updated mongodb-core to 2.0.5.
* Minor fixes to handle faster MongoClient connectivity from the driver, allowing single server instances to detect if they are a proxy.
* Added numberOfConsecutiveTimeouts to pool that will destroy the pool if the number of consecutive timeouts > reconnectTries.
* Print warning if seedlist servers host name does not match the one provided in it's ismaster.me field for Replicaset members.
* Fix issue where Replicaset connection would not succeeed if there the replicaset was a single primary server setup.

2.2.1 2016-07-11
----------------
* Updated mongodb-core to 2.0.4.
* handle situation where user is providing seedlist names that do not match host list. fix allows for a single full discovery connection sweep before erroring out.
* NODE-747 Polyfill for Object.assign for 0.12.x or 0.10.x.
* NODE-746 Improves replicaset errors for wrong setName.

2.2.0 2016-07-05
----------------
* Updated mongodb-core to 2.0.3.
* Moved all authentication and handling of growing/shrinking of pool connections into actual pool.
* All authentication methods now handle both auth/reauthenticate and logout events.
* Introduced logout method to get rid of onAll option for logout command.
* Updated bson to 0.5.0 that includes Decimal128 support.
* Fixed logger error serialization issue.
* Documentation fixes.
* Implemented Server Selection Specification test suite.
* Added warning level to logger.
* Added warning message when sockeTimeout < haInterval for Replset/Mongos.
* Mongos emits close event on no proxies available or when reconnect attempt fails.
* Replset emits close event when no servers available or when attemptReconnect fails to reconnect.
* Don't throw in auth methods but return error in callback.

2.1.21 2016-05-30
-----------------
* Updated mongodb-core to 1.3.21.
* Pool gets stuck if a connection marked for immediateRelease times out (Issue #99, https://github.com/nbrachet).
* Make authentication process retry up to authenticationRetries at authenticationRetryIntervalMS interval.
* Made ismaster replicaset calls operate with connectTimeout or monitorSocketTimeout to lower impact of big socketTimeouts on monitoring performance.
* Make sure connections mark as "immediateRelease" don't linger the inUserConnections list. Otherwise, after that connection times out, getAll() incorrectly returns more connections than are effectively present, causing the pool to not get restarted by reconnectServer. (Issue #99, https://github.com/nbrachet).
* Make cursor getMore or killCursor correctly trigger pool reconnect to single server if pool has not been destroyed.
* Make ismaster monitoring for single server connection default to avoid user confusion due to change in behavior.

2.1.20 2016-05-25
-----------------
* Refactored MongoClient options handling to simplify the logic, unifying it.
* NODE-707 Implemented openUploadStreamWithId on GridFS to allow for custom fileIds so users are able to customize shard key and shard distribution.
* NODE-710 Allow setting driver loggerLevel and logger function from MongoClient options.
* Updated mongodb-core to 1.3.20.
* Minor fix for SSL errors on connection attempts, minor fix to reconnect handler for the server.
* Don't write to socket before having registered the callback for commands, work around for windows issuing error events twice on node.js when socket gets destroyed by firewall.
* Fix minor issue where connectingServers would not be removed correctly causing single server connections to not auto-reconnect.

2.1.19 2016-05-17
----------------
* Handle situation where a server connection in a replicaset sometimes fails to be destroyed properly due to being in the middle of authentication when the destroy method is called on the replicaset causing it to be orphaned and never collected.
* Ensure replicaset topology destroy is never called by SDAM.
* Ensure all paths are correctly returned on inspectServer in replset.
* Updated mongodb-core to 1.3.19 to fix minor connectivity issue on quick open/close of MongoClient connections on auth enabled mongodb Replicasets.

2.1.18 2016-04-27
-----------------
* Updated mongodb-core to 1.3.18 to fix Node 6.0 issues.

2.1.17 2016-04-26
-----------------
* Updated mongodb-core to 1.3.16 to work around issue with early versions of node 0.10.x due to missing unref method on ClearText streams.
* INT-1308: Allow listIndexes to inherit readPreference from Collection or DB.
* Fix timeout issue using new flags #1361.
* Updated mongodb-core to 1.3.17.
* Better handling of unique createIndex error.
* Emit error only if db instance has an error listener.
* DEFAULT authMechanism; don't throw error if explicitly set by user.

2.1.16 2016-04-06
-----------------
* Updated mongodb-core to 1.3.16.

2.1.15 2016-04-06
-----------------
* Updated mongodb-core to 1.3.15.
* Set ssl, sslValidate etc to mongosOptions on url_parser (Issue #1352, https://github.com/rubenstolk).
- NODE-687 Fixed issue where a server object failed to be destroyed if the replicaset state did not update successfully. This could leave active connections accumulating over time.
- Fixed some situations where all connections are flushed due to a single connection in the connection pool closing.

2.1.14 2016-03-29
-----------------
* Updated mongodb-core to 1.3.13.
* Handle missing cursor on getMore when going through a mongos proxy by pinning to socket connection and not server.

2.1.13 2016-03-29
-----------------
* Updated mongodb-core to 1.3.12.

2.1.12 2016-03-29
-----------------
* Updated mongodb-core to 1.3.11.
* Mongos setting acceptableLatencyMS exposed to control the latency women for mongos selection.
* Mongos pickProxies fall back to closest mongos if no proxies meet latency window specified.
* isConnected method for mongos uses same selection code as getServer.
* Exceptions in cursor getServer trapped and correctly delegated to high level handler.

2.1.11 2016-03-23
-----------------
* Updated mongodb-core to 1.3.10.
* Introducing simplified connections settings.

2.1.10 2016-03-21
-----------------
* Updated mongodb-core to 1.3.9.
* Fixing issue that prevented mapReduce stats from being resolved (Issue #1351, https://github.com/davidgtonge)
* Forwards SDAM monitoring events from mongodb-core.

2.1.9 2016-03-16
----------------
* Updated mongodb-core to 1.3.7 to fix intermittent race condition that causes some users to experience big amounts of socket connections.
* Makde bson parser in ordered/unordered bulk be directly from mongodb-core to avoid intermittent null error on mongoose.

2.1.8 2016-03-14
----------------
* Updated mongodb-core to 1.3.5.
* NODE-660 TypeError: Cannot read property 'noRelease' of undefined.
* Harden MessageHandler in server.js to avoid issues where we cannot find a callback for an operation.
* Ensure RequestId can never be larger than Max Number integer size.
* NODE-661 typo in url_parser.js resulting in replSetServerOptions is not defined when connecting over ssl.
* Confusing error with invalid partial index filter (Issue #1341, https://github.com/vkarpov15).
* NODE-669 Should only error out promise for bulkWrite when error is a driver level error not a write error or write concern error.
* NODE-662 shallow copy options on methods that are not currently doing it to avoid passed in options mutiation.
* NODE-663 added lookup helper on aggregation cursor.
* NODE-585 Result object specified incorrectly for findAndModify?.
* NODE-666 harden validation for findAndModify CRUD methods.

2.1.7 2016-02-09
----------------
* NODE-656 fixed corner case where cursor count command could be left without a connection available.
* NODE-658 Work around issue that bufferMaxEntries:-1 for js gets interpreted wrongly due to double nature of Javascript numbers.
* Fix: GridFS always returns the oldest version due to incorrect field name (Issue #1338, https://github.com/mdebruijne).
* NODE-655 GridFS stream support for cancelling upload streams and download streams (Issue #1339, https://github.com/vkarpov15).
* NODE-657 insertOne don`t return promise in some cases.
* Added destroy alias for abort function on GridFSBucketWriteStream.

2.1.6 2016-02-05
----------------
* Updated mongodb-core to 1.3.1.

2.1.5 2016-02-04
----------------
* Updated mongodb-core to 1.3.0.
* Added raw support for the command function on topologies.
* Fixed issue where raw results that fell on batchSize boundaries failed (Issue #72)
* Copy over all the properties to the callback returned from bindToDomain, (Issue #72)
* Added connection hash id to be able to reference connection host/name without leaking it outside of driver.
* NODE-638, Cannot authenticate database user with utf-8 password.
* Refactored pool to be worker queue based, minimizing the impact a slow query have on throughput as long as # slow queries < # connections in the pool.
* Pool now grows and shrinks correctly depending on demand not causing a full pool reconnect.
* Improvements in monitoring of a Replicaset where in certain situations the inquiry process could get exited.
* Switched to using Array.push instead of concat for use cases of a lot of documents.
* Fixed issue where re-authentication could loose the credentials if whole Replicaset disconnected at once.
* Added peer optional dependencies support using require_optional module.
* Bug is listCollections for collection names that start with db name (Issue #1333, https://github.com/flyingfisher)
* Emit error before closing stream (Issue #1335, https://github.com/eagleeye)

2.1.4 2016-01-12
----------------
* Restricted node engine to >0.10.3 (https://jira.mongodb.org/browse/NODE-635).
* Multiple database names ignored without a warning (https://jira.mongodb.org/browse/NODE-636, Issue #1324, https://github.com/yousefhamza).
* Convert custom readPreference objects in collection.js (Issue #1326, https://github.com/Machyne).

2.1.3 2016-01-04
----------------
* Updated mongodb-core to 1.2.31.
* Allow connection to secondary if primaryPreferred or secondaryPreferred (Issue #70, https://github.com/leichter)

2.1.2 2015-12-23
----------------
* Updated mongodb-core to 1.2.30.
* Pool allocates size + 1 connections when using replicasets, reserving additional pool connection for monitoring exclusively.
* Fixes bug when all replicaset members are down, that would cause it to fail to reconnect using the originally provided seedlist.

2.1.1 2015-12-13
----------------
* Surfaced checkServerIdentity options for MongoClient, Server, ReplSet and Mongos to allow for control of the checkServerIdentity method available in Node.s 0.12.x or higher.
* Added readPreference support to listCollections and listIndexes helpers.
* Updated mongodb-core to 1.2.28.

2.1.0 2015-12-06
----------------
* Implements the connection string specification, https://github.com/mongodb/specifications/blob/master/source/connection-string/connection-string-spec.rst.
* Implements the new GridFS specification, https://github.com/mongodb/specifications/blob/master/source/gridfs/gridfs-spec.rst.
* Full MongoDB 3.2 support.
* NODE-601 Added maxAwaitTimeMS support for 3.2 getMore to allow for custom timeouts on tailable cursors.
* Updated mongodb-core to 1.2.26.
* Return destination in GridStore pipe function.
* NODE-606 better error handling on destroyed topology for db.js methods.
* Added isDestroyed method to server, replset and mongos topologies.
* Upgraded test suite to run using mongodb-topology-manager.

2.0.53 2015-12-23
-----------------
* Updated mongodb-core to 1.2.30.
* Pool allocates size + 1 connections when using replicasets, reserving additional pool connection for monitoring exclusively.
* Fixes bug when all replicaset members are down, that would cause it to fail to reconnect using the originally provided seedlist.

2.0.52 2015-12-14
-----------------
* removed remove from Gridstore.close.

2.0.51 2015-12-13
-----------------
* Surfaced checkServerIdentity options for MongoClient, Server, ReplSet and Mongos to allow for control of the checkServerIdentity method available in Node.s 0.12.x or higher.
* Added readPreference support to listCollections and listIndexes helpers.
* Updated mongodb-core to 1.2.28.

2.0.50 2015-12-06
-----------------
* Updated mongodb-core to 1.2.26.

2.0.49 2015-11-20
-----------------
* Updated mongodb-core to 1.2.24 with several fixes.
  * Fix Automattic/mongoose#3481; flush callbacks on error, (Issue #57, https://github.com/vkarpov15).
  * $explain query for wire protocol 2.6 and 2.4 does not set number of returned documents to -1 but to 0.
  * ismaster runs against admin.$cmd instead of system.$cmd.
  * Fixes to handle getMore command errors for MongoDB 3.2
  * Allows the process to properly close upon a Db.close() call on the replica set by shutting down the haTimer and closing arbiter connections.

2.0.48 2015-11-07
-----------------
* GridFS no longer performs any deletes when writing a brand new file that does not have any previous <db>.fs.chunks or <db>.fs.files documents.
* Updated mongodb-core to 1.2.21.
* Hardened the checking for replicaset equality checks.
* OpReplay flag correctly set on Wire protocol query.
* Mongos load balancing added, introduced localThresholdMS to control the feature.
* Kerberos now a peerDependency, making it not install it by default in Node 5.0 or higher.

2.0.47 2015-10-28
-----------------
* Updated mongodb-core to 1.2.20.
* Fixed bug in arbiter connection capping code.
* NODE-599 correctly handle arrays of server tags in order of priority.
* Fix for 2.6 wire protocol handler related to readPreference handling.
* Added maxAwaitTimeMS support for 3.2 getMore to allow for custom timeouts on tailable cursors.
* Make CoreCursor check for $err before saying that 'next' succeeded (Issue #53, https://github.com/vkarpov15).

2.0.46 2015-10-15
-----------------
* Updated mongodb-core to 1.2.19.
* NODE-578 Order of sort fields is lost for numeric field names.
* Expose BSON Map (ES6 Map or polyfill).
* Minor fixes for APM support to pass extended APM test suite.

2.0.45 2015-09-30
-----------------
* NODE-566 Fix issue with rewind on capped collections causing cursor state to be reset on connection loss.

2.0.44 2015-09-28
-----------------
* Bug fixes for APM upconverting of legacy INSERT/UPDATE/REMOVE wire protocol messages.
* NODE-562, fixed issue where a Replicaset MongoDB URI with a single seed and replSet name set would cause a single direct connection instead of topology discovery.
* Updated mongodb-core to 1.2.14.
* NODE-563 Introduced options.ignoreUndefined for db class and MongoClient db options, made serialize undefined to null default again but allowing for overrides on insert/update/delete operations.
* Use handleCallback if result is an error for count queries. (Issue #1298, https://github.com/agclever)
* Rewind cursor to correctly force reconnect on capped collections when first query comes back empty.
* NODE-571 added code 59 to legacy server errors when SCRAM-SHA-1 mechanism fails.
* NODE-572 Remove examples that use the second parameter to `find()`.

2.0.43 2015-09-14
-----------------
* Propagate timeout event correctly to db instances.
* Application Monitoring API (APM) implemented.
* NOT providing replSet name in MongoClient connection URI will force single server connection. Fixes issue where it was impossible to directly connect to a replicaset member server.
* Updated mongodb-core to 1.2.12.
* NODE-541 Initial Support "read committed" isolation level where "committed" means confimed by the voting majority of a replica set.
* GridStore doesn't share readPreference setting from connection string. (Issue #1295, https://github.com/zhangyaoxing)
* fixed forceServerObjectId calls (Issue #1292, https://github.com/d-mon-)
* Pass promise library through to DB function (Issue #1294, https://github.com/RovingCodeMonkey)

2.0.42 2015-08-18
-----------------
* Added test case to exercise all non-crud methods on mongos topologies, fixed numberOfConnectedServers on mongos topology instance.

2.0.41 2015-08-14
-----------------
* Added missing Mongos.prototype.parserType function.
* Updated mongodb-core to 1.2.10.

2.0.40 2015-07-14
-----------------
* Updated mongodb-core to 1.2.9 for 2.4 wire protocol error handler fix.
* NODE-525 Reset connectionTimeout after it's overwritten by tls.connect.
* NODE-518 connectTimeoutMS is doubled in 2.0.39.
* NODE-506 Ensures that errors from bulk unordered and ordered are instanceof Error (Issue #1282, https://github.com/owenallenaz).
* NODE-526 Unique index not throwing duplicate key error.
* NODE-528 Ignore undefined fields in Collection.find().
* NODE-527 The API example for collection.createIndex shows Db.createIndex functionality.

2.0.39 2015-07-14
-----------------
* Updated mongodb-core to 1.2.6 for NODE-505.

2.0.38 2015-07-14
-----------------
* NODE-505 Query fails to find records that have a 'result' property with an array value.

2.0.37 2015-07-14
-----------------
* NODE-504 Collection * Default options when using promiseLibrary.
* NODE-500 Accidental repeat of hostname in seed list multiplies total connections persistently.
* Updated mongodb-core to 1.2.5 to fix NODE-492.

2.0.36 2015-07-07
-----------------
* Fully promisified allowing the use of ES6 generators and libraries like co. Also allows for BYOP (Bring your own promises).
* NODE-493 updated mongodb-core to 1.2.4 to ensure we cannot DDOS the mongod or mongos process on large connection pool sizes.

2.0.35 2015-06-17
-----------------
* Upgraded to mongodb-core 1.2.2 including removing warnings when C++ bson parser is not available and a fix for SCRAM authentication.

2.0.34 2015-06-17
-----------------
* Upgraded to mongodb-core 1.2.1 speeding up serialization and removing the need for the c++ bson extension.
* NODE-486 fixed issue related to limit and skip when calling toArray in 2.0 driver.
* NODE-483 throw error if capabilities of topology is queries before topology has performed connection setup.
* NODE-482 fixed issue where MongoClient.connect would incorrectly identify a replset seed list server as a non replicaset member.
* NODE-487 fixed issue where killcursor command was not being sent correctly on limit and skip queries.

2.0.33 2015-05-20
-----------------
* Bumped mongodb-core to 1.1.32.

2.0.32 2015-05-19
-----------------
* NODE-463 db.close immediately executes its callback.
* Don't only emit server close event once (Issue #1276, https://github.com/vkarpov15).
* NODE-464 Updated mongodb-core to 1.1.31 that uses a single socket connection to arbiters and hidden servers as well as emitting all event correctly.

2.0.31 2015-05-08
-----------------
* NODE-461 Tripping on error "no chunks found for file, possibly corrupt" when there is no error.

2.0.30 2015-05-07
-----------------
* NODE-460 fix; don't set authMechanism for user in db.authenticate() to avoid mongoose authentication issue.

2.0.29 2015-05-07
-----------------
* NODE-444 Possible memory leak, too many listeners added.
* NODE-459 Auth failure using Node 0.8.28, MongoDB 3.0.2 & mongodb-node-native 1.4.35.
* Bumped mongodb-core to 1.1.26.

2.0.28 2015-04-24
-----------------
* Bumped mongodb-core to 1.1.25
* Added Cursor.prototype.setCursorOption to allow for setting node specific cursor options for tailable cursors.
* NODE-430 Cursor.count() opts argument masked by var opts = {}
* NODE-406 Implemented Cursor.prototype.map function tapping into MongoClient cursor transforms.
* NODE-438 replaceOne is not returning the result.ops property as described in the docs.
* NODE-433 _read, pipe and write all open gridstore automatically if not open.
* NODE-426 ensure drain event is emitted after write function returns, fixes intermittent issues in writing files to gridstore.
* NODE-440 GridStoreStream._read() doesn't check GridStore.read() error.
* Always use readPreference = primary for findAndModify command (ignore passed in read preferences) (Issue #1274, https://github.com/vkarpov15).
* Minor fix in GridStore.exists for dealing with regular expressions searches.

2.0.27 2015-04-07
-----------------
* NODE-410 Correctly handle issue with pause/resume in Node 0.10.x that causes exceptions when using the Node 0.12.0 style streams.

2.0.26 2015-04-07
-----------------
* Implements the Common Index specification Standard API at https://github.com/mongodb/specifications/blob/master/source/index-management.rst.
* NODE-408 Expose GridStore.currentChunk.chunkNumber.

2.0.25 2015-03-26
-----------------
* Upgraded mongodb-core to 1.1.21, making the C++ bson code an optional dependency to the bson module.

2.0.24 2015-03-24
-----------------
* NODE-395 Socket Not Closing, db.close called before full set finished initalizing leading to server connections in progress not being closed properly.
* Upgraded mongodb-core to 1.1.20.

2.0.23 2015-03-21
-----------------
* NODE-380 Correctly return MongoError from toError method.
* Fixed issue where addCursorFlag was not correctly setting the flag on the command for mongodb-core.
* NODE-388 Changed length from method to property on order.js/unordered.js bulk operations.
* Upgraded mongodb-core to 1.1.19.

2.0.22 2015-03-16
-----------------
* NODE-377, fixed issue where tags would correctly be checked on secondary and nearest to filter out eligible server candidates.
* Upgraded mongodb-core to 1.1.17.

2.0.21 2015-03-06
-----------------
* Upgraded mongodb-core to 1.1.16 making sslValidate default to true to force validation on connection unless overriden by the user.

2.0.20 2015-03-04
-----------------
* Updated mongodb-core 1.1.15 to relax pickserver method.

2.0.19 2015-03-03
-----------------
* NODE-376 Fixes issue * Unordered batch incorrectly tracks batch size when switching batch types (Issue #1261, https://github.com/meirgottlieb)
* NODE-379 Fixes bug in cursor.count() that causes the result to always be zero for dotted collection names (Issue #1262, https://github.com/vsivsi)
* Expose MongoError from mongodb-core (Issue #1260, https://github.com/tjconcept)

2.0.18 2015-02-27
-----------------
* Bumped mongodb-core 1.1.14 to ensure passives are correctly added as secondaries.

2.0.17 2015-02-27
-----------------
* NODE-336 Added length function to ordered and unordered bulk operations to be able know the amount of current operations in bulk.
* Bumped mongodb-core 1.1.13 to ensure passives are correctly added as secondaries.

2.0.16 2015-02-16
-----------------
* listCollection now returns filtered result correctly removing db name for 2.6 or earlier servers.
* Bumped mongodb-core 1.1.12 to correctly work for node 0.12.0 and io.js.
* Add ability to get collection name from cursor (Issue #1253, https://github.com/vkarpov15)

2.0.15 2015-02-02
-----------------
* Unified behavior of listCollections results so 3.0 and pre 3.0 return same type of results.
* Bumped mongodb-core to 1.1.11 to support per document tranforms in cursors as well as relaxing the setName requirement.
* NODE-360 Aggregation cursor and command correctly passing down the maxTimeMS property.
* Added ~1.0 mongodb-tools module for test running.
* Remove the required setName for replicaset connections, if not set it will pick the first setName returned.

2.0.14 2015-01-21
-----------------
* Fixed some MongoClient.connect options pass through issues and added test coverage.
* Bumped mongodb-core to 1.1.9 including fixes for io.js

2.0.13 2015-01-09
-----------------
* Bumped mongodb-core to 1.1.8.
* Optimized query path for performance, moving Object.defineProperty outside of constructors.

2.0.12 2014-12-22
-----------------
* Minor fixes to listCollections to ensure correct querying of a collection when using a string.

2.0.11 2014-12-19
-----------------
* listCollections filters out index namespaces on < 2.8 correctly
* Bumped mongo-client to 1.1.7

2.0.10 2014-12-18
-----------------
* NODE-328 fixed db.open return when no callback available issue and added test.
* NODE-327 Refactored listCollections to return cursor to support 2.8.
* NODE-327 Added listIndexes method and refactored internal methods to use the new command helper.
* NODE-335 Cannot create index for nested objects fixed by relaxing key checking for createIndex helper.
* Enable setting of connectTimeoutMS (Issue #1235, https://github.com/vkarpov15)
* Bumped mongo-client to 1.1.6

2.0.9 2014-12-01
----------------
* Bumped mongodb-core to 1.1.3 fixing global leaked variables and introducing strict across all classes.
* All classes are now strict (Issue #1233)
* NODE-324 Refactored insert/update/remove and all other crud opts to rely on internal methods to avoid any recursion.
* Fixed recursion issues in debug logging due to JSON.stringify()
* Documentation fixes (Issue #1232, https://github.com/wsmoak)
* Fix writeConcern in Db.prototype.ensureIndex (Issue #1231, https://github.com/Qard)

2.0.8 2014-11-28
----------------
* NODE-322 Finished up prototype refactoring of Db class.
* NODE-322 Exposed Cursor in index.js for New Relic.

2.0.7 2014-11-20
----------------
* Bumped mongodb-core to 1.1.2 fixing a UTF8 encoding issue for collection names.
* NODE-318 collection.update error while setting a function with serializeFunctions option.
* Documentation fixes.

2.0.6 2014-11-14
----------------
* Refactored code to be prototype based instead of privileged methods.
* Bumped mongodb-core to 1.1.1 to take advantage of the prototype based refactorings.
* Implemented missing aspects of the CRUD specification.
* Fixed documentation issues.
* Fixed global leak REFERENCE_BY_ID in gridfs grid_store (Issue #1225, https://github.com/j)
* Fix LearnBoost/mongoose#2313: don't let user accidentally clobber geoNear params (Issue #1223, https://github.com/vkarpov15)

2.0.5 2014-10-29
----------------
* Minor fixes to documentation and generation of documentation.
* NODE-306 (No results in aggregation cursor when collection name contains a dot), Merged code for cursor and aggregation cursor.

2.0.4 2014-10-23
----------------
* Allow for single replicaset seed list with no setName specified (Issue #1220, https://github.com/imaman)
* Made each rewind on each call allowing for re-using the cursor.
* Fixed issue where incorrect iterations would happen on each for extensive batchSizes.
* NODE-301 specifying maxTimeMS on find causes all fields to be omitted from result.

2.0.3 2014-10-14
----------------
* NODE-297 Aggregate Broken for case of pipeline with no options.

2.0.2 2014-10-08
----------------
* Bumped mongodb-core to 1.0.2.
* Fixed bson module dependency issue by relying on the mongodb-core one.
* Use findOne instead of find followed by nextObject (Issue #1216, https://github.com/sergeyksv)

2.0.1 2014-10-07
----------------
* Dependency fix

2.0.0 2014-10-07
----------------
* First release of 2.0 driver

2.0.0-alpha2 2014-10-02
-----------------------
* CRUD API (insertOne, insertMany, updateOne, updateMany, removeOne, removeMany, bulkWrite, findOneAndDelete, findOneAndUpdate, findOneAndReplace)
* Cluster Management Spec compatible.

2.0.0-alpha1 2014-09-08
-----------------------
* Insert method allows only up 1000 pr batch for legacy as well as 2.6 mode
* Streaming behavior is 0.10.x or higher with backwards compatibility using readable-stream npm package
* Gridfs stream only available through .stream() method due to overlapping names on Gridstore object and streams in 0.10.x and higher of node
* remove third result on update and remove and return the whole result document instead (getting rid of the weird 3 result parameters)
    * Might break some application
* Returns the actual mongodb-core result instead of just the number of records changed for insert/update/remove
* MongoClient only has the connect method (no ability instantiate with Server, ReplSet or similar)
* Removed Grid class
* GridStore only supports w+ for metadata updates, no appending to file as it's not thread safe and can cause corruption of the data
    + seek will fail if attempt to use with w or w+
    + write will fail if attempted with w+ or r
    + w+ only works for updating metadata on a file
* Cursor toArray and each resets and re-runs the cursor
* FindAndModify returns whole result document instead of just value
* Extend cursor to allow for setting all the options via methods instead of dealing with the current messed up find
* Removed db.dereference method
* Removed db.cursorInfo method
* Removed db.stats method
* Removed db.collectionNames not needed anymore as it's just a specialized case of listCollections
* Removed db.collectionInfo removed due to not being compatible with new storage engines in 2.8 as they need to use the listCollections command due to system collections not working for namespaces.
* Added db.listCollections to replace several methods above

1.4.10 2014-09-04
-----------------
* Fixed BSON and Kerberos compilation issues
* Bumped BSON to ~0.2 always installing latest BSON 0.2.x series
* Fixed Kerberos and bumped to 0.0.4

1.4.9 2014-08-26
----------------
* Check _bsonType for Binary (Issue #1202, https://github.com/mchapman)
* Remove duplicate Cursor constructor (Issue #1201, https://github.com/KenPowers)
* Added missing parameter in the documentation (Issue #1199, https://github.com/wpjunior)
* Documented third parameter on the update callback(Issue #1196, https://github.com/gabmontes)
* NODE-240 Operations on SSL connection hang on node 0.11.x
* NODE-235 writeResult is not being passed on when error occurs in insert
* NODE-229 Allow count to work with query hints
* NODE-233 collection.save() does not support fullResult
* NODE-244 Should parseError also emit a `disconnected` event?
* NODE-246 Cursors are inefficiently constructed and consequently cannot be promisified.
* NODE-248 Crash with X509 auth
* NODE-252 Uncaught Exception in Base.__executeAllServerSpecificErrorCallbacks
* Bumped BSON parser to 0.2.12


1.4.8 2014-08-01
----------------
* NODE-205 correctly emit authenticate event
* NODE-210 ensure no undefined connection error when checking server state
* NODE-212 correctly inherit socketTimeoutMS from replicaset when HA process adds new servers or reconnects to existing ones
* NODE-220 don't throw error if ensureIndex errors out in Gridstore
* Updated bson to 0.2.11 to ensure correct toBSON behavior when returning non object in nested classes
* Fixed test running filters
* Wrap debug log in a call to format (Issue #1187, https://github.com/andyroyle)
* False option values should not trigger w:1 (Issue #1186, https://github.com/jsdevel)
* Fix aggregatestream.close(Issue #1194, https://github.com/jonathanong)
* Fixed parsing issue for w:0 in url parser when in connection string
* Modified collection.geoNear to support a geoJSON point or legacy coordinate pair (Issue #1198, https://github.com/mmacmillan)

1.4.7 2014-06-18
----------------
* Make callbacks to be executed in right domain when server comes back up (Issue #1184, https://github.com/anton-kotenko)
* Fix issue where currentOp query against mongos would fail due to mongos passing through $readPreference field to mongod (CS-X)

1.4.6 2014-06-12
----------------
* Added better support for MongoClient IP6 parsing (Issue #1181, https://github.com/micovery)
* Remove options check on index creation (Issue #1179, Issue #1183, https://github.com/jdesboeufs, https://github.com/rubenvereecken)
* Added missing type check before calling optional callback function (Issue #1180)

1.4.5 2014-05-21
----------------
* Added fullResult flag to insert/update/remove which will pass raw result document back. Document contents will vary depending on the server version the driver is talking to. No attempt is made to coerce a joint response.
* Fix to avoid MongoClient.connect hanging during auth when secondaries building indexes pre 2.6.
* return the destination stream in GridStore.pipe (Issue #1176, https://github.com/iamdoron)

1.4.4 2014-05-13
----------------
* Bumped BSON version to use the NaN 1.0 package, fixed strict comparison issue for ObjectID
* Removed leaking global variable (Issue #1174, https://github.com/dainis)
* MongoClient respects connectTimeoutMS for initial discovery process (NODE-185)
* Fix bug with return messages larger than 16MB but smaller than max BSON Message Size (NODE-184)

1.4.3 2014-05-01
----------------
* Clone options for commands to avoid polluting original options passed from Mongoose (Issue #1171, https://github.com/vkarpov15)
* Made geoNear and geoHaystackSearch only clean out allowed options from command generation (Issue #1167)
* Fixed typo for allowDiskUse (Issue #1168, https://github.com/joaofranca)
* A 'mapReduce' function changed 'function' to instance '\<Object\>' of 'Code' class (Issue #1165, https://github.com/exabugs)
* Made findAndModify set sort only when explicitly set (Issue #1163, https://github.com/sars)
* Rewriting a gridStore file by id should use a new filename if provided (Issue #1169, https://github.com/vsivsi)

1.4.2 2014-04-15
----------------
* Fix for inheritance of readPreferences from MongoClient NODE-168/NODE-169
* Merged in fix for ping strategy to avoid hitting non-pinged servers (Issue #1161, https://github.com/vaseker)
* Merged in fix for correct debug output for connection messages (Issue #1158, https://github.com/vaseker)
* Fixed global variable leak (Issue #1160, https://github.com/vaseker)

1.4.1 2014-04-09
----------------
* Correctly emit joined event when primary change
* Add _id to documents correctly when using bulk operations

1.4.0 2014-04-03
----------------
* All node exceptions will no longer be caught if on('error') is defined
* Added X509 auth support
* Fix for MongoClient connection timeout issue (NODE-97)
* Pass through error messages from parseError instead of just text (Issue #1125)
* Close db connection on error (Issue #1128, https://github.com/benighted)
* Fixed documentation generation
* Added aggregation cursor for 2.6 and emulated cursor for pre 2.6 (uses stream2)
* New Bulk API implementation using write commands for 2.6 and down converts for pre 2.6
* Insert/Update/Remove using new write commands when available
* Added support for new roles based API's in 2.6 for addUser/removeUser
* Added bufferMaxEntries to start failing if the buffer hits the specified number of entries
* Upgraded BSON parser to version 0.2.7 to work with < 0.11.10 C++ API changes
* Support for OP_LOG_REPLAY flag (NODE-94)
* Fixes for SSL HA ping and discovery.
* Uses createIndexes if available for ensureIndex/createIndex
* Added parallelCollectionScan method to collection returning CommandCursor instances for cursors
* Made CommandCursor behave as Readable stream.
* Only Db honors readPreference settings, removed Server.js legacy readPreference settings due to user confusion.
* Reconnect event emitted by ReplSet/Mongos/Server after reconnect and before replaying of buffered operations.
* GridFS buildMongoObject returns error on illegal md5 (NODE-157, https://github.com/iantocristian)
* Default GridFS chunk size changed to (255 * 1024) bytes to optimize for collections defaulting to power of 2 sizes on 2.6.
* Refactored commands to all go through command function ensuring consistent command execution.
* Fixed issues where readPreferences where not correctly passed to mongos.
* Catch error == null and make err detection more prominent (NODE-130)
* Allow reads from arbiter for single server connection (NODE-117)
* Handle error coming back with no documents (NODE-130)
* Correctly use close parameter in Gridstore.write() (NODE-125)
* Throw an error on a bulk find with no selector (NODE-129, https://github.com/vkarpov15)
* Use a shallow copy of options in find() (NODE-124, https://github.com/vkarpov15)
* Fix statistical strategy (NODE-158, https://github.com/vkarpov15)
* GridFS off-by-one bug in lastChunkNumber() causes uncaught throw and data loss (Issue #1154, https://github.com/vsivsi)
* GridStore drops passed `aliases` option, always results in `null` value in GridFS files (Issue #1152, https://github.com/vsivsi)
* Remove superfluous connect object copying in index.js (Issue #1145, https://github.com/thomseddon)
* Do not return false when the connection buffer is still empty (Issue #1143, https://github.com/eknkc)
* Check ReadPreference object on ReplSet.canRead (Issue #1142, https://github.com/eknkc)
* Fix unpack error on _executeQueryCommand (Issue #1141, https://github.com/eknkc)
* Close db on failed connect so node can exit (Issue #1128, https://github.com/benighted)
* Fix global leak with _write_concern (Issue #1126, https://github.com/shanejonas)

1.3.19 2013-08-21
-----------------
* Correctly rethrowing errors after change from event emission to callbacks, compatibility with 0.10.X domains without breaking 0.8.X support.
* Small fix to return the entire findAndModify result as the third parameter (Issue #1068)
* No removal of "close" event handlers on server reconnect, emits "reconnect" event when reconnection happens. Reconnect Only applies for single server connections as of now as semantics for ReplSet and Mongos is not clear (Issue #1056)

1.3.18 2013-08-10
-----------------
* Fixed issue when throwing exceptions in MongoClient.connect/Db.open (Issue #1057)
* Fixed an issue where _events is not cleaned up correctly causing a slow steady memory leak.

1.3.17 2013-08-07
-----------------
* Ignore return commands that have no registered callback
* Made collection.count not use the db.command function
* Fix throw exception on ping command (Issue #1055)

1.3.16 2013-08-02
-----------------
* Fixes connection issue where lots of connections would happen if a server is in recovery mode during connection (Issue #1050, NODE-50, NODE-51)
* Bug in unlink mulit filename (Issue #1054)

1.3.15 2013-08-01
-----------------
* Memory leak issue due to node Issue #4390 where _events[id] is set to undefined instead of deleted leading to leaks in the Event Emitter over time

1.3.14 2013-08-01
-----------------
* Fixed issue with checkKeys where it would error on X.X

1.3.13 2013-07-31
-----------------
* Added override for checkKeys on insert/update (Warning will expose you to injection attacks) (Issue #1046)
* BSON size checking now done pre serialization (Issue #1037)
* Added isConnected returns false when no connection Pool exists (Issue #1043)
* Unified command handling to ensure same handling (Issue #1041, #1042)
* Correctly emit "open" and "fullsetup" across all Db's associated with Mongos, ReplSet or Server (Issue #1040)
* Correctly handles bug in authentication when attempting to connect to a recovering node in a replicaset.
* Correctly remove recovering servers from available servers in replicaset. Piggybacks on the ping command.
* Removed findAndModify chaining to be compliant with behavior in other official drivers and to fix a known mongos issue.
* Fixed issue with Kerberos authentication on Windows for re-authentication.
* Fixed Mongos failover behavior to correctly throw out old servers.
* Ensure stored queries/write ops are executed correctly after connection timeout
* Added promoteLongs option for to allow for overriding the promotion of Longs to Numbers and return the actual Long.

1.3.12 2013-07-19
-----------------
* Fixed issue where timeouts sometimes would behave wrongly (Issue #1032)
* Fixed bug with callback third parameter on some commands (Issue #1033)
* Fixed possible issue where killcursor command might leave hanging functions
* Fixed issue where Mongos was not correctly removing dead servers from the pool of eligable servers
* Throw error if dbName or collection name contains null character (at command level and at collection level)
* Updated bson parser to 0.2.1 with security fix and non-promotion of Long values to javascript Numbers (once a long always a long)

1.3.11 2013-07-04
-----------------
* Fixed errors on geoNear and geoSearch (Issue #1024, https://github.com/ebensing)
* Add driver version to export (Issue #1021, https://github.com/aheckmann)
* Add text to readpreference obedient commands (Issue #1019)
* Drivers should check the query failure bit even on getmore response (Issue #1018)
* Map reduce has incorrect expectations of 'inline' value for 'out' option (Issue #1016, https://github.com/rcotter)
* Support SASL PLAIN authentication (Issue #1009)
* Ability to use different Service Name on the driver for Kerberos Authentication (Issue #1008)
* Remove unnecessary octal literal to allow the code to run in strict mode (Issue #1005, https://github.com/jamesallardice)
* Proper handling of recovering nodes (when they go into recovery and when they return from recovery, Issue #1027)

1.3.10 2013-06-17
-----------------
* Guard against possible undefined in server::canCheckoutWriter (Issue #992, https://github.com/willyaranda)
* Fixed some duplicate test names (Issue #993, https://github.com/kawanet)
* Introduced write and read concerns for GridFS (Issue #996)
* Fixed commands not correctly respecting Collection level read preference (Issue #995, #999)
* Fixed issue with pool size on replicaset connections (Issue #1000)
* Execute all query commands on master switch (Issue #1002, https://github.com/fogaztuc)

1.3.9 2013-06-05
----------------
* Fixed memory leak when findAndModify errors out on w>1 and chained callbacks not properly cleaned up.

1.3.8 2013-05-31
----------------
* Fixed issue with socket death on windows where it emits error event instead of close event (Issue #987)
* Emit authenticate event on db after authenticate method has finished on db instance (Issue #984)
* Allows creation of MongoClient and do new MongoClient().connect(..). Emits open event when connection correct allowing for apps to react on event.

1.3.7 2013-05-29
----------------
* After reconnect, tailable getMores go on inconsistent connections (Issue #981, #982, https://github.com/glasser)
* Updated Bson to 0.1.9 to fix ARM support (Issue #985)

1.3.6 2013-05-21
----------------
* Fixed issue where single server reconnect attempt would throw due to missing options variable (Issue #979)
* Fixed issue where difference in ismaster server name and seed list caused connections issues, (Issue #976)

1.3.5 2013-05-14
----------------
* Fixed issue where HA for replicaset would pick the same broken connection when attempting to ping the replicaset causing the replicaset to never recover.

1.3.4 2013-05-14
----------------
* Fixed bug where options not correctly passed in for uri parser (Issue #973, https://github.com/supershabam)
* Fixed bug when passing a named index hint (Issue #974)

1.3.3 2013-05-09
----------------
* Fixed auto-reconnect issue with single server instance.

1.3.2 2013-05-08
----------------
* Fixes for an issue where replicaset would be pronounced dead when high priority primary caused double elections.

1.3.1 2013-05-06
----------------
* Fix for replicaset consisting of primary/secondary/arbiter with priority applied failing to reconnect properly
* Applied auth before server instance is set as connected when single server connection
* Throw error if array of documents passed to save method

1.3.0 2013-04-25
----------------
* Whole High availability handling for Replicaset, Server and Mongos connections refactored to ensure better handling of failover cases.
* Fixed issue where findAndModify would not correctly skip issuing of chained getLastError (Issue #941)
* Fixed throw error issue on errors with findAndModify during write out operation (Issue #939, https://github.com/autopulated)
* Gridstore.prototype.writeFile now returns gridstore object correctly (Issue #938)
* Kerberos support is now an optional module that allows for use of GSSAPI authentication using MongoDB Subscriber edition
* Fixed issue where cursor.toArray could blow the stack on node 0.10.X (#950)

1.2.14 2013-03-14
-----------------
* Refactored test suite to speed up running of replicaset tests
* Fix of async error handling when error happens in callback (Issue #909, https://github.com/medikoo)
* Corrected a slaveOk setting issue (Issue #906, #905)
* Fixed HA issue where ping's would not go to correct server on HA server connection failure.
* Uses setImmediate if on 0.10 otherwise nextTick for cursor stream
* Fixed race condition in Cursor stream (NODE-31)
* Fixed issues related to node 0.10 and process.nextTick now correctly using setImmediate where needed on node 0.10
* Added support for maxMessageSizeBytes if available (DRIVERS-1)
* Added support for authSource (2.4) to MongoClient URL and db.authenticate method (DRIVER-69/NODE-34)
* Fixed issue in GridStore seek and GridStore read to correctly work on multiple seeks (Issue #895)

1.2.13 2013-02-22
-----------------
* Allow strategy 'none' for repliaset if no strategy wanted (will default to round robin selection of servers on a set readPreference)
* Fixed missing MongoErrors on some cursor methods (Issue #882)
* Correctly returning a null for the db instance on MongoClient.connect when auth fails (Issue #890)
* Added dropTarget option support for renameCollection/rename (Issue #891, help from https://github.com/jbottigliero)
* Fixed issue where connection using MongoClient.connect would fail if first server did not exist (Issue #885)

1.2.12 2013-02-13
-----------------
* Added limit/skip options to Collection.count (Issue #870)
* Added applySkipLimit option to Cursor.count (Issue #870)
* Enabled ping strategy as default for Replicaset if none specified (Issue #876)
* Should correctly pick nearest server for SECONDARY/SECONDARY_PREFERRED/NEAREST (Issue #878)

1.2.11 2013-01-29
-----------------
* Added fixes for handling type 2 binary due to PHP driver (Issue #864)
* Moved callBackStore to Base class to have single unified store (Issue #866)
* Ping strategy now reuses sockets unless they are closed by the server to avoid overhead

1.2.10 2013-01-25
-----------------
* Merged in SSL support for 2.4 supporting certificate validation and presenting certificates to the server.
* Only open a new HA socket when previous one dead (Issue #859, #857)
* Minor fixes

1.2.9 2013-01-15
----------------
* Fixed bug in SSL support for MongoClient/Db.connect when discovering servers (Issue #849)
* Connection string with no db specified should default to admin db (Issue #848)
* Support port passed as string to Server class (Issue #844)
* Removed noOpen support for MongoClient/Db.connect as auto discovery of servers for Mongod/Mongos makes it not possible (Issue #842)
* Included toError wrapper code moved to utils.js file (Issue #839, #840)
* Rewrote cursor handling to avoid process.nextTick using trampoline instead to avoid stack overflow, speedup about 40%

1.2.8 2013-01-07
----------------
* Accept function in a Map Reduce scope object not only a function string (Issue #826, https://github.com/aheckmann)
* Typo in db.authenticate caused a check (for provided connection) to return false, causing a connection AND onAll=true to be passed into __executeQueryCommand downstream (Issue #831, https://github.com/m4tty)
* Allow gridfs objects to use non ObjectID ids (Issue #825, https://github.com/nailgun)
* Removed the double wrap, by not passing an Error object to the wrap function (Issue #832, https://github.com/m4tty)
* Fix connection leak (gh-827) for HA replicaset health checks (Issue #833, https://github.com/aheckmann)
* Modified findOne to use nextObject instead of toArray avoiding a nextTick operation (Issue #836)
* Fixes for cursor stream to avoid multiple getmore issues when one in progress (Issue #818)
* Fixes .open replaying all backed up commands correctly if called after operations performed, (Issue #829 and #823)

1.2.7 2012-12-23
----------------
* Rolled back batches as they hang in certain situations
* Fixes for NODE-25, keep reading from secondaries when primary goes down

1.2.6 2012-12-21
----------------
* domain sockets shouldn't require a port arg (Issue #815, https://github.com/aheckmann)
* Cannot read property 'info' of null (Issue #809, https://github.com/thesmart)
* Cursor.each should work in batches (Issue #804, https://github.com/Swatinem)
* Cursor readPreference bug for non-supported read preferences (Issue #817)

1.2.5 2012-12-12
----------------
* Fixed ssl regression, added more test coverage (Issue #800)
* Added better error reporting to the Db.connect if no valid serverConfig setup found (Issue #798)

1.2.4 2012-12-11
----------------
* Fix to ensure authentication is correctly applied across all secondaries when using MongoClient.

1.2.3 2012-12-10
----------------
* Fix for new replicaset members correctly authenticating when being added (Issue #791, https://github.com/m4tty)
* Fixed seek issue in gridstore when using stream (Issue #790)

1.2.2 2012-12-03
----------------
* Fix for journal write concern not correctly being passed under some circumstances.
* Fixed correct behavior and re-auth for servers that get stepped down (Issue #779).

1.2.1 2012-11-30
----------------
* Fix for double callback on insert with w:0 specified (Issue #783)
* Small cleanup of urlparser.

1.2.0 2012-11-27
----------------
* Honor connectTimeoutMS option for replicasets (Issue #750, https://github.com/aheckmann)
* Fix ping strategy regression (Issue #738, https://github.com/aheckmann)
* Small cleanup of code (Issue #753, https://github.com/sokra/node-mongodb-native)
* Fixed index declaration using objects/arrays from other contexts (Issue #755, https://github.com/sokra/node-mongodb-native)
* Intermittent (and rare) null callback exception when using ReplicaSets (Issue #752)
* Force correct setting of read_secondary based on the read preference (Issue #741)
* If using read preferences with secondaries queries will not fail if primary is down (Issue #744)
* noOpen connection for Db.connect removed as not comtqtibld with autodeôaction of Mongo ty0eJ*%Monoos connection vith auth nnt working (Issue #7#7)
* Use th% connect -ephod directly grom the require. require¨'mongodb')("mongodb>//localhost:37017/äb")
* neu MongoClieNt introduced as the pOint of conngcting to MonwoDp's instead of the Db
  * ope./cl/se/db/connmct methods imrlementdd
* ImtleMgoted common URL cmnnectéoo format using MongoBlient.connect állowinf vor wimialar inturFqae$acrosw al, drivers.
* Fixed a jug`with aggregation helper nod proPerly eccepting rdadPzeference

1..15 201210-10
-----------------
* Òemoved stvict Mode and introduced normal handling ïf safe at DB level.

1.1.10 2012-10-08----------------
* fix Admin.serverStatuw (Issue #723, http3://github.com/Contrc)
* logging On connection opdn/close(Issue #761, https://github.cm/asiletto)
* more fixes for windows bson install!(Isrue #724)

1.1.9!012-10-05
-,--------------
* Updteä bson to 0,1. to fix!build probl5m n sunos/windows.

1.1.8 2012-10-0!--­-----------/-
* Fixed Db.eva, to correctly `enlle sycteMjs globaL jaVascripv functigns (Isóue #?0y)
( Ãleanup og noj-blosing connectyols (Is{5e"#606)
* More c|eefup of connections under replécaset (Issue '37, https:/?%itèub.co-/ålbert3)
* Ret oeepAlive on as default, override if not needed
* Kleanup of jsbol$instáll po cozrectly build withou|"ynqtall*js script (http32//github.com/ghvylmiî(
* Added do-ain so#kev suptort ngw Ser~eq("/tmp/mnngodb>rmbk") style

1>1.3 2012-09-10
,---=--)-----/-
* Protect against startIng PingStrategi being cahled more phan once  Issue #694, https://gythub.cmm/aheckmann)
* Make PingStrategy in|erval confifurable (was 1 secOnd, relqxed To 5) (	ssUe #693, htdps://github.com/aheckiann)
* Made PingStrategy(api more consistmnt,¤callback to start/stop metHods are optiOnal (Issue #6)s, https://githuâ.com/ahecimann©
* Rrmper stopping of strapegy on replicasuv`stop* Throw error whmn gridsTo2e fife`is(not fotnd in rda$ Mode (Isswe "%02, ittps://github.com/jbrumwell)
* Cursor stream resumå noW using"nextTick to avoid duðlicadåd records (Is{5e(#696)
j1.3.6 2012-09-01
-)--------)-----
* Fix for readPreferencd NEREST fmr re`licasets (Issue #693,!httpw://'ithub.com/aèeckmann)
* Emkt End #orre#tly on spream sursnb (Irsue #69r, https8//givhub.com/Raynos)

1.9.502012-°8-29
----------%-­--%
* Eix for evAl on "eplicaset Issue #484
* Uwe helpful errmz msg whan native pqrsEr |ot compilgd0(Issue #65, htvps://github.com/a(åckmann)
*0Asbiter connect(hotfix (Issue £681 htprs://gith}bcom/fengmk2)
* Upgraded bson parser t/ 0.1.2 uring gyp, deprecated su1po2t for nodg(0.4.X
* Added name parameter to!createIndex/enSureInbex to be¤ible to overvide indeh namEs lcrodr t(an 128 bytes
ª Afded"exhau3t opthon bor find for featUre ckmpletion (not reCommended æor norMal use)
(Addet t`ilcrleRetryInterval to find for tailable cursors to allow to control get]ore retry(time énterval
* Dixer fop reaä prefesencEs wjen using mongo to ckRrectly hanfle no read prEf%rence set$when itara|ing over a kursor (Issue #686)

1.0.4 2012-88-12J-------)--%-----
* Adled$Ýongos conndctiïn tyðe ÷itj a falLbibK mist æor$Mongos proxids, supposts ha (on jy0eevauìt) and uill"cttemp4`to reconnect to f!iled prxies.
* Documents can now h`vu a toBrON`me|hod that lets"the user control the s%rialization behavior for$documenö{ being sáv%d.
* GriDsvore"ijStance object now vorks as a readstream or writes4rmam (th`nkC tk ãode from Aaron hecimann (https:/-github.b-/aheckmann/gridfs-struam)).
* Fix gridfS rEadspòeám (Issue !607, https://github.comotedeh+.
* Added disableDrhverÓONSi{eCheci property |O arvEr.zs for 0eople who wish tn qush the`inóerôs to the limmt )ISsue(#09).
* Viøed "tg whevu collection.group keyf given as Code is processed as a regular object (Iusue #608, https://githtb.com/rrurso2007).
* Case mksmatch betwemn driver's ObjectID and mongo's ObjectYd, allos both Issue #61x).
 Cleajup map reDuce$,Issue #614, httpS://github.ckm/aheckmann).** Add pòoper drror (andling to gRidfs (	ssue #615, https://github.com/aheckmanî).
* Ensure cupsor is using same connecTion for All operations to avoid qotential jumpof rervers!whej using replycasets.J* Date identlfication iantled correctey in"bsOn$js parser whån runninf in vm context.
* Document!tion updates
* GrmdSt/re fmlenhme not set on"read (Issuå #621)
* Ïttiiizations mn thc C++ bsin Paòser to fix a potentia, memory leak and avoid non/needed calls
* Added(suppovtf/raawai|daTa for tailable(cursors (Issue #624)
* Ympmementing read preferunce setting at coldecdion an$ cursor level
   * collec|ion.find().reuReadPreferencg(Server.SECONARY_PREFERREDi
   * db.collection("sOme , {readPreference:Server.SECONDARY})
* eplicaset now rederns when the marter és äiscovered on d`.open and lets the rest of the conoecpions hatpun asynchronouc/
  . ReplSet/ReplSet[ervers eíitq  fullsetup" whej all servers hive been connectad to
* Xrevent callbas+ from exdcõting more than once mn getMr% function (Issue #631, https://githubncoM/shankar0306)
* CnrrwPt Bson messages now0%rross Kut to!adL cal,backs end closes up connugtions corre#thy, Issue #634
* Replica sgt member stituó update whm. priMary changeq bug (M3sue #635, Htôps://gktHub.com/!linsilvian)
* fixed a5th to work better$when multiple conneCtions are involved.

 Degault con.ection pooh sij% ifcreaseD t/ 5$connectyons.
j Fixes for"the ReadStream class uo work propErhy with 0>8 oæ Node.js
*"Added explamn &unction suPpOrt to aggreg`vion he¬per
* Adde$ sCcetTimeoutMS"and connectTimeoutMS"to 3mcket opfions for repl?set.js and serves.js
* Fixed addUsar(to(corsectny hqndlå chances in 2.2 for getL!stErrr awthmntication requireD
* Added i~dex to gridstore chunks on file_id (IssUe #649, httpsº//git(ub.com/jabobbubu)* Fixed Always emip db events ,Issue #757)* Close event not correctly re3ets LÂ openCalled vavIablE to allow reconnect
( Addee kpun evant on cojnectiï~ establishåd fop replicaset, mongos End subver
* Much fastep BSON C++ parser thans to LucCsfidm Singaxorg.
* Refabtk2hngdof replhgaset connection logic to simplkfy the ckdm.
* Add `opvions.conng#tCrbiter` tk deciDe connect irbiterS or nmt (Issue #675)
( Mynor /ptimization foz findAndModIfy whmn not usinc j,w or fsynã fkr safe

1.°.2 2016-0-05m--------------
* Reãïnoect funcvionality for repdicasep fix for mongod" :.05h
1.0.1 r012-05-12
---/------------
* Pqssing back getLastError object as 3rd paraigter"on findAndModiFy command.
* Fixed a bunch of perdormancd zegressionc in objectId and cursor.
* Fixed!issue #600(allouifg fkr single document deleve to be passed in remov% command.

1.p.0 2412-04m25
--------------)-" Fixes t/$(andlinç of failovev on sebver ubror
* Only emits error messages if there are e2ror lisdenerr to avoid uncáegh4 eventr
* Server.isSolnected usinf$the server`state waviable not the c¯nnection pool státe

0.9.9.8 2°12-04-1"
-------------//-­-
ª"_id=0 is being turlEd intO an(ObjectId (Issee #551)
* niy for$error in GridStorå write metho$!(Issue #559)
* Fiy for rmading a GridStore frnm abbitrary, non-chunk aligned /ffseTs,!added tmst (Issu% #563. https://git`ub.com/subrmUôine)
* Modified!limitREquest to allnw negativ% limitr to paSs through0to Mongo, added¡ues4 (Irsue #561)
* Corrupt GridFS files when chunkSize < fineSi~e, fiyed colcurrency iwóue hIssue #55µ)
* Handle neaä tailarlu ãursmrs (Issue #568, h|tps://gith÷b.com/aheckmann	
* ConnectiO~ pools handles closing ti%mselves dwn and cleari~g the state

 Check bsonbsize"of äocumunts Against maxBsonSize and throw clie~t error hns4ead of serv%r eRror, (Isste #543)
* Returning$update stat5s document ap the end$of the callbqck for(wpda|es, 8Issue #569)
* Refactor use of Argumentc objeb| to gain pårformanc% (Issue #474. https://gi|hub.com/AaronAsACximt)
0.9.9.? 2010-03-16
---------%------=-
* Stats not retuòned from map"reduce wivh inlmne`2esults (Issee #546)* Re-enable ôesting ov!ghether or not the cqllâack is salled yn"the =ulti-chunk seek< fiz small GridCtore bug (Issue #543, h|tp3z//github.com/pgebheIm)
*`Streaminw larfa$files drol(GridFS causås tru~gation (Issue #540	
* Make callba+k type chegks agnostic!to V8 conte|t bouîdcrieS (Issue #544)
* Korråctly throw erroò ib"an at~empt is made0to execu4e`an inserd?update/remove/CreatgIndex/ensureindex with safe enabled anl no callbAcK
* Db.open`throws if txe"áqpliãation atte-ps to call otej again without cadling close birst

0.9.1.6 2012-03-12
%---------------,
* BSN parser is externalized in ét'3 own reposktory, cubrently using wit master
* Fixes for Reqlicaset conNectiviuy issue (I{sue #=37)
. F)xed(issuås with nde .4.X vs 0.¶.X (Issue #53v)
* RmmovEd SImpleEmittes and replice` with Standarf EventEmitter
* rIdStore.qe%c(fails to chanee chunks and call callba`k when in reaf mode (Is{ue #572	

0.9.8.5 2012-03-0
-------------)----
* Merged in`replSetGetStatus helper to admin`Class (Issue #515, Https:/.givlub.c/m/mojodLa)
*(Merge$$in serverStaxus helper to admin cla3s (Icsue #516, https://gith|b.com/mojodna)
* FIxåd memory leak in C++ bsn parser (Issue #526)
* Fix empty MnngOError "message" property (Issue #50, htups:'/github.com/aheckmánn)
* C`nnoô save"files with the saMe`fyle(naMå$to GrhdFS Iss5u #51q)

0.;.9.4 2012-02-26Š------------=-----
* bu'fix for findandMo`ify: Error: ckrrupt bs+n message , 5 byuesblong (Isue #51=)

0.8.9.3 2052-02-23B---	--------------
* eocummlt save caLlback ArgumeNtC are both undEbined, (Issue #518)
* Natéve BSON parser instcll evpor with npM. (Issue #µ17)Š0.y.9.2 2012-02-17
--­-%---------)---Š* Imprmved detgctaïn of0Buffers using  effar.isÂ}ffer instead of"ilstanCeof.
* Added wrap drrr asownd db.dropDktAbase to catch all errops (Issue$"512)
*$Added aggregate jelper to colhagtion, onl} for MongoDB >= 2.1

0.9.9&1 2012-42-15
------------------
* Rettgr hanelifg nb safe uhen using Somg ckmmands suãh as creaTeIndex  ensureIndeø, addUser, removeUser, creatgCollection.: Mapreeuc% now 4hrmws error if out parqmet%r is lot specifhed.

0.9.9 2013-0"-13
-----=--)-------: Add%d createFromTiMe method on Objeg4ID to allow for quEries against _id moseàea{ily usang the timestamp.
* Db.Clmse tpue) now makgs!coænektiof unusabdE"as it's beeî force`clksed by app,
* Fixed$mapRgdu£e and gRoup function{àto correculy send slaveO+ on queries.

 Fixes for find method to!cnrrectly woòk uyth fiNd(querql bields, callback) (issue #506).
* A fix vor ãonoebtion error handling whe~"usinw tHe SSN on(MongDB.

0.9.8-7 2212-02-06
-----------=-----
*@Siipliæief findOne to use the find commant insteqd of the"custo, code (Issue0#498).
* BS_N ÊS0parsEr not also chec+s for _bs/fType variable!in case BqON object is kN wei2T scope (Issue #495)/

0.=.8-602012-02/20
---­/-------------* gmoved the!chåco"for råplicaset chang% coäa as it will never work with node.js.

0,9.8-5 2012-02-02
------------)-----
* Added geonear comiand to Collectmon.8 Added geoHaystackSeavsh ckmmand!tï Sol,eçtion.
ª Adde`"indexes Command tk colleatimn uo retvieve the indexes on a Collection.J* Added stats comOand!to collection tk betri%ve the ctatistyIs o, a Collecôion.
( Added li3tDqtacases cnmmand to afmkn object to !llow retrieval of all availab-e $bs.
* ChcNged crmaveCreateIndexCommand to work better with"opvions.

 Bixed derufeRence method on Db class to coRrectly derefeòelce Db reæevenae ojjects.
* Moved connect kbjEct onto Db class(Db.connect) as weln as ieepilg backward compatkbiLhty.
* Remov%d writeBufF%r`met`od vro- gridstore, write handles$swi4ching automatiSally o/w.
* Ch!~ged$rdadCuffer to read on Gridstore, GrédstOre now only s5pports Binary Buffers no Stvings anymorg.

 Move$¡Long class po"bsOn direcdorY.

0.9*8-4 2012-01-28
-----------.------
* Adfed reIndex command to collection and äb l$val.
* @dded support æor $returnKey, $maxScaî, $min, $max, $rhïwDiskLoc, $commef| to cursor afd fmnd¯fint_ne meuhods.
* Atded dvopDuts aod t optiïn to createAndex and ensureIndex.* Adde$ isCapped method to ollåction.
* Added indexE|ists method to0Cmllestion.
* Added viNdAnfRemove me4`kd to Collection.
* Fi{ed bug for raplicaset connection wHen no active sevvers an uhe seT>
* Fixed buG dor 2epliceset co.~ecTions(when0errors ocbur during con.ection.* Merged1in tatCh for RSON Number handling(from Lee Salz}an, di& womå small fixes and add%` test`CoverAge.
0.9.8-3 2012-11-21
---------------%--
* Woroaround$fOr issue)wkth bjecT.$efineQroperdy (Issud #484)
* ObjectID generation wi4h datG dOes nou0set rest of fie,ds to zero"(Issue`#482)
0.9
8-2 2°32-01-2
Í----------------=
*(Fixed a missing this in the eplSetÓerverw cnstructor.
 .9.:-1 2p12-01-13
----­--­--­-------
* FindAndIodify bug fix for Luplicatd erro~s  Hssue #081)

0.;.8 2p12-21-57
---)m---------l-
* ReplicaqeTs noU correctly !djusts to!lmve cèange3 in tha rEplicaset configuradion On the serwers, r%ãoînecting ãGrrectlx.
  * et the inuerval for chec+ing f/r cxanges settmng the 2eqlicaSetcheckInterval property whån creating the ÒeplSetServers instance"or o~ db.óerverConfig.repLmcaSetCheckIntmrval. (default 100 miliseconds)
* Fixes formattedorderClause in colluctiol.bs to `ccept a plAin(hash as a parAmeter"(Issue #469) htTps://github.com/tedeh
* Remved duplicate code for formattedorddrC,ause and moted 4o utils module* Ðass in poolSize for ReplSetSe~vers to we4 defaul4 rolSize for new replhciset memrErs* Bug f)x for BON JS desepicl)zar. Isolating the evcl functions in separate functIons to"evoid V8 deor|immzatikns
* Correct handling of ilhegal BÓON messages durinw teserializadion
* Fixed Ingijite ìm/p when reading GridFs fin with no$chunks (Issue #471)
* Correãvly update exióting user pawsword when uSing addUser (Issue$#470)

0.9.7.3-5 3012-01-04
---=----------------
* Fix$for RdgEXp serialization for 0.4.Z whåre typeof!/regexp/ ==`'funcTmon' vs in 0®6.X typeof /regeXp/ == 'object'
* on't állo÷ keepÁ|ive and mtNoelay for 0.4/X as it throws errors

0.9*7.3-t 2012-01-04
---m----------------
* Chawed(down potenuial memory leak"on FindAndModify, AsswE #467 (node.hs rmmoveA,ìLhStener# leqves the key in the etents ob*eãt, node.js bug on eventdistener?, leadr to e|tpemmly slow memorù lgak on listejer obJect)* Sanity checks for GridFS performance uath$bencjmar+ added

0.9.w.3-3 2012-01-04
--)----%-m----------
* Bue fixms for performance!issues going forl 0.9.6.X to 0.9.7.Z on milux
* BSON bug fhxas for performance

0n9.7.3-2 2812-01-02
---------­-=----/--)**$Fi8ed uq documentation to reflect the preferped way$of inStantieting bson t}pes
* GC bug fix for"JS bson pa2ser tm ávoid ~top-and-go GC coìlåcthon

0/9.7.3-1 20!2-21-0
--/-----------)-----J*0Fqx to make db>bson_seriqnizÅr$and<db.bro._leserialIzer work cs it0did previously

0.9.7/3 :011-12-30
------=)------------
* Moved BCON_BINARY_SUBTYPE_DEFAULt bpoo bSON objeãt to Bi~ary oâject and removed t(e CÓONWBINARY_ pvefi8es
* Remowed Native BSON types, C++ parser uses JS$Types (fasdeò0due tn"cost of còossing the JS-C++ barriev fgr eacl calL)
* Afded build fix for 0.4.X "ra~c( nf Node.j3 whdru GetMwnÐrope2tyNames is not defioed in v8
* Fix foR wire p2otocol parser for0coroer si|õation@where the message is ìer'er tHan thg maximum soc+et buffer in no`e.js (‰s3Ue #>64, +461, #447)J* Cmlnection pool status set to connected on pko|Ready, isCknne#ted returns`false on enything but connected stqt5s hIwsue #455)

0.9.·.2-5 21q-12-22
--------------------
*1Brand spanking new StreaminG Cubcor support Irsue #4<8 (https://github.bÏm?chryrtkv?nntg-mon'odb-native/pull/458)!|hanks to Mr Aa2on eckmann

0.9.7.2-4 2011-12-1
-------------------­
* Refaatoring oæ callback code to work arnund performancm regression on!minux
" FixeD group function to corre#tl9 use thd cnmmAnä mo$e as defqõlt

0.9.w.2-3 2411-12-18
---------,----------
* Fi8ed errop handlang for findAndModify while sui,l working Fkr mo~godb!1.8.60hIssue #450)/
* A,l/w &or gorse send qury to%primapy- pass opôion (reaô:'primary') on fine command.
    * @afind({a:1}, {rgad:'pr)mary'}).toArray(fu~ction(err, items) y}	;``

0.=.7.r-2 2011-12-16
----------------=---
* Fkhes infinite streamRecords QueryF`mlure"fix vhen using Mongos (Issue #442)

0.y.7o2-1 2011/12-1¶
----=--m-------)----
* ~10% perf imrrovement for ObjEctIl#toHexString (Issue #448, https://github.com/aheskmanl,
* Only using process.nextTick on errgrs emitted mn call`acks not on ill parsing, reduces number$of ticks in the driver
* changed parsi¾g onf bsgn messages To use process.nextTick po do âson parsing in batches If the mmssage"is over 14K as tn yield(lore tim% t/ 4he event lo/k increasilg"conãurrånc} of Big m/ngoreply mgssages with multiple tocuments

0.9.7.3 20)1-12-15
-------------%----
* AededdSSL ñupport for fqture versikn of mongodb (VERY VEVY0EXPURIMENTAH)
    * pass in vhå ssl:true oution to th% server oz vaplicaset óerver cgnfig to enaBle*    * a fug %ithex in mongodj or nkde.js doms nnt Allow foò eore than 1 coînectign pr db instAnce (pgolSize:1).
*(Ad$ed getTimestamp() method to objuctMD tjat fet}rns A date object
* Add¥d fi~alirg funsôIon to sollectyon.gboup.    * funcdion group (keys, condmtion, iniu)ál, reduae, filalize, comm!nd, ca|lback)
*`Reapmr no longer Uskng setTimeout to handle reaping& Triggeping is donå in the Genevaì flow leading to pretictablu b%havhor.
 0  * ReaperInterval sát$interval for reaper (eefault 1000(miliseconds)
 $  * reaperTimeout, set timeout for calLw (dmfaelt$3000  oilisecones)
    * veaxer, enab|e/disable reaper (dena5lt false©
* Vork Around for issues wéth fiodInlMdify durinC higè)concurrency lOad, ifsUve that`the behaiob is the same acrosS thd 1.8.X brancè aN$ 2.X"branch of MongODb
* Òeworked"multiòle`db's sharing samå connection pool tojehave correctlx on grrov, timeout and close
* EnsureIndex soomand can be executed"vIthoq0 a calìback (Issue #$38)
* Mvql function no acceptc options ifcluding nolock0(Issug #432)
    * eVal(code, paramgters, options, c!llbacj) (where ortions =`{nolocK:tp}ç})

0.9.7.1-4 2011-11-27
---¨---------------* Replaced in{tcll.sh with0inwtall.js`to install correãtly on aìl supported os's

0.9>7.1-3 201ñ-11-27
----=--------------m* Fixes incoR2ect sC0e for ensurdIndex error wsatpyng((Issud!#419) httPs:/-github&com/ritcj
	0.9.7.1/2!2411-11-27
-----=-------------
* Set statywticcl sahectIoN strategy as leFault Vïr secon`arm chokce.

0.9.7.1-1 2011-93-2
--)---------------
* Better handlin' of$single se2ver reconnect (fixes some bugs)
* Better tEst coveragå of single seRver daklUrd
*!Coòrect0H`ndling of callbacks on reqlicaset servers!shen fyrdwa$l drpping pasked3, correct reConoec|

1..7.1 2011-11=26
,-----------------
ª Better han`ling of dead sEröes for single ÷erver instances
* FindOne aîd find treats selector!== nuìn as {}, Issue!#503
* Possible to pass in a str!tegy for the replicaset to pick seCondary$readep nove
    * pArameter sTratdgY
   $    * xing (default+, pings0the sdRvass and picks thg one With thå0howewt Ping vime
        * qtatiót©cal, measures each requ%St and aick the o.d with the lowest Mean and`std d%viation
* Set rep,ycaset âgad prefepeNce rapNicasetseteadPreferenke((
  " * Sárvår.RMAD_PRIMARY (use primazy!serveR for reads)
 !$ * Servår,READ_SECONDARY (fzom a secondary servev((uses the stratggy set))
    ª tags, {object oF!tags}
* Adeet veplay Mf commaNds issued to a closed connection when 4ha conndction is re-est!blishE`
* Fix isConnected and Close on unopened connectaïns. Issue #409, fix by (https://gidhtâ.com/sgthml)
* Mov%d reapev t db.open instead of constructop (I{sue #406)
* AlloWs pass`ng t`rough mf socket connection settinfv to Sebver 'r ReplSetServer qnde2 the optio. soc{etOptkonsJ    * timeout = såt seconds before connecvion ti-es out$(default 0)
0   * noDemcy = Disables$the Nagle a|worithm (defavht true)
(   * kgepAlive = [e5 if keepAlive$is used (dagault 0, which means no"KeepAlive, set hyghub than 0"for kgåpAlive)
 $  * ejcoding = ['ascii', 'utv8', or 'base64'] (default`nsll)
* Fi8es for hand|ing of1er"ors during shõ4down off a soccet connestion
* Corractmy apðlids socket optIons inaluding time/ut
> C|eanux of test management aode to alose co.nectionS correãvly
* Handle parser evrnrs be|ter( clsi~g down Ôhe connecvion and emitting an errnr
* Cosrectly emit urrors from server,js onl} wrapping errors tiat are strings
0.9.7 2011-91-10
-----­---m---}/-
* Added priority set4ing`to replicaSet managerJ* Added corre#t handìing on qassive s!rvers in replicaset
* Re3grked wocket code for simP,er clearer hAndm-ng*`Correct handling kf connections in`test helper{
* At`ed Contbol of retrie3 oN failure
    * cojtrol with parameters retryMilkSeconds and numberOfRetries when creatiNg a db in{tance
* Aeddf reaper That winm tileout and cleaNup aeeries vhat$never return    * control with`pazameter3 reaperInterval aîd rEaperTiíeo5t u(en creating a db instance
*`Refactorel test helper classes for raplmcaset`tests
* Allows raw hno bson parser mode for insert, qpdate$ removg, fkjd an$ findOne)
    * control rag0mode passing in option raw:true ïn the comma,ds
    * w)ll return buffmrs"ith \He bifary bson objects
* Fiyed mamor9 leak in cur3or.tOArray
* Fyxed bwg il!kommand(creátion for mngodb ser~er wyth wrong scope of call
* ADded db(dbName	 method to $b.js to allow for reuSe of ãonnebtions against otHep databases
* Seriami:ation of functinns in aj oBjebt is off by default, override with parametev
  " * så2ializeFunctionS [true/fadse] on fb level, collectikn level or ildividual inserT?updade/findAndModify
: Added ong.dromString to c++ clasr`and fixed mhnr bug in thå code (Test case &or $gt oper`tor on 64-bit integers.0Isste #394)
* FinLÏne !ld!fi~d now share same code execution anf will work in the same manner I3sue #399
*(Æip for tailablu$cursors, Issue #384
* Fix for Cursor rewinä broieN, Issue #389
* Allow0GridstOre.E8is40to query uwinw regexp, Isswe #387, f)x by (hvtps://gi4hub*com/keij©
* Updcped docume.tation on https://g)thub.co}-ch2istkv/note-mongodb)native
* Fixed toJSON methods across all objects for BS/N- Binary return Base64 Encodåd lata
0.9.6-22 201±-10-15
---------/---------
* Fixed buw in"js bson parser that(coule cause wrnng /bjec4 size on serIali~`tiOn, Issue #770
( Fixed fug in fIndAndModify that did not throw error on rmplmcaset timeout,!Issue #373*0.9*6-21 2011-10-05
)--------------m---
* Reworked 2econnect"code to worK #orrectly
* Handìing ezrors in déffereNt parts of the cofe to ensure that it does not loak(the connectiof
j Cofsistent error(handling`for Oâject.czeateFrkmÈexString$for JS ánd ++

0>9.7-20 011-10-04
-------/-----------
* Reworkd bson.js parser po get rid off ArRiy.shift(i due to kt`alLocqting new -emory for each call. Spåedup varies betwee~ 4-15% äepending on doc
* Reworked bsnn.cc to tlrow error when trY)ng do serialize js bson types
*"Added MinËey$ MaxKay$anD DOuble suqport for JS and(C+*!parseb* Rewor+ed socket handlhng code to emit erroRs on U.parsable messages
* Addad logger$gption for Db clpss, lets you pas3 in a function in tle shape
    
     $" log  function(}essage, object) {},
        error : function,erropMdssage, errorObjecô) {},
        debug0: fuNction(defEgMessaoe, ï"j¥ct) {},
$   }

$ Usage ys New DB(new Server(..)( {|ogger: lo'gerIlstancu})

0.9.6-19 0411=09-29
-----­-------------
* Fiping compatibility iSSues fetwedl C++ "soî parser end js tarser
* Added Symbol suppor| to C++ parses
* Fixed"socket hanäling bug for seldom misaligned oewsage(fvoí"monwkdb
* Coròeatly èaoDl%s serialization oæ fuNctions using thE C++ bson par{er

°.9.6-8 2011-09-22
)------------------
" Fixed bug in waitFobConnection thát would lgad to 100% cpu usage, Issue c3520.96-17 2011-09-"1
-----------,-------
* Fixed broken exce`tiof tesv causing Bqmboo to hang
+ Handling corsecvly colmand+lastGrror when bgtx return recults as in findIndModify,"Issue #31

0.9.6-16$2011-09-14
--/--%-/---------
* Fixiîf a b}nch of issues witi cïmpitibility with MoogoD@ :.0.X branch. Some$fairly big"changás in behavinr from 1.8.X to r& ,X on the!sgrver.
* Drror Connektion MkngodB V2.0.0 with Quth=true, Issue #34x

0.9.6-15 0011-9-0
-----,------------
* Fixe$0issue$where pools would not be correãtlY cluaîed ep cfter An error, Mssue #345J* Fixed iutheîtication issuu with secondary servevs )n Replicaset, Issue +334
* Duplicate replica-set servers whtn omitting port, Issue #341
* Fixmng finäAndIodify to c/rractlù work with eplicasets0enruri~g propep error haîdling, Iscue #336
* Me2ged in codE frkm (httpq:-/github.com/aheckíann)"thet chdcks for gloêal variable leaks

0®9.6-14 2013-0¹-05
-----------=------
* Minor fixes for e2vOr handling in cursor ótzeaming (htt0s://citheb.com/sethmh),(Irsuep#330
* Minor doc fiyes
* Som!"more cur3or sort tgsts added, Issue #333
* Fixes to Work with 0.5.Ø âranch
* Fix Db not r%moving0reconlect histe.er from sevverCoofig, (https://githtb.cïm/sbreoïen), Issue`#337
* Removed nmde_evenTs.hhïsludEs (htUps://githuâ.com/j`noehietaoaki), Issue #339
* Implement correct safe/strict moee for findAndModiFy>

0.9.6-13 24q1-0<-24
--------%=-------)-
* Db nemes corpektly ervor checked for illegal eharacters

0.¹.6-±2 2011-08-24
--%-------------m--
* Nas|y bug!in GridFS`if You changed the defauLu chunk size
* Fixed Error0jandling"b}g in findOne

0.9.6-11 2011m08-:3
-------------------
* Pimdout opdion Oot corrgctly making it to the cur{or, Issue #320, Bix from (https:¯.cithub.som/year2013)
* Fizes fîp memory neaks when using "ufbers and C++`par{er
* Fi|us`to make tests pasS on 0.5.X
* Cleanup of bson.js 4o(remote duplicatEd0code(paths
* Fix for erbors occurring iî en3ureIndeX, Issue ##26
* Removinf requip%.paths ôo make@t%sts work(with the 0.=.X braNch

.;.6-10 2011)08-11---%/---------,----
* Ópe#ific uype Double g/r capped colhections (https://github.com/mbostock), Issue #312
* De#orating Errors wmTh all all(objc3t )nfg from Mongo (https://github.com/lauryE71)¬ Issue #308
* Implementing!faxes for mongodb 1.9.1 and `igher(to make tes4s pas3
* AeMil vqlidateCollEction now vakus an optio~s argement for you to pasó an fuld option
* KmplemEnted keepGoing parameter fov0monfodb 1.9.1 or higher, Iss5e #210
*(Added test(for read_secondary count isoue, -erged in fix from$(https:-githwb.com/ygaR2013), Issue #317

.9.6-9
-------
* Bug fix for bson pbsing the kEy ''8'& correctly without crashing

069.6­8
-------
* Changed do using nodg.jc cryxto0li`rarq MD1hdigest
* Conndct method support documentel mongodb: syntax(by  ht4ps://eithub.com/sethml)
* Support Symfol ty0d for BSON,0seriali{ew Tk it's own type [ymbol, Iss5e #302, #28¸
* Cote gbject Without scopd(seriaLiZing to correct BSON type
*0Lot/s oæ fixes t~ avoid dgUble cal|baãks (jttps:?/gkthub.cæm/aheãkmann) is1ue #304
* Long deseréalizis as Nu}ber for values il the raoge -2^43 po 2^53, HssUe #305 (https://gip`qb.com/sethml)
* Fixed C++ qarser to reflect0JÓ parser handling of long deserialhzatmon
*"Bson small optiímzauionsŽ
0.9.6-7 2011-07-13
--%--------------
* J[ Bson dese2ializadion bug #287

0.96-6 2011-07-12
--,-----------=---** FyndAndodéfy not returning error mEssage as other methods Issue #277* Addeä dest Coveraga for $p}sh, $pushAll and ,inc atomik Oparavio~s
* Cozrect rror handling for!non 12/34 bit ids on Pure BS ObjectID glass Isóue #272
. Fixed terbible!deserialization bug in js bóon cod% #294
* Fix by andrewjstone to"avoid throwiog errrs wjen this.pbimary"not"defined

09.6-5$201-07-16
-----------------
* Rewbittdn BOO js parser now faster than`the C parser1on íy core2duo laptop
* Added option full uo mndepInformAôiol to get am, index Info Is3u% #265
* Tassing in OcjEctID fr new GridstkRe Works correctl} Issue £273

0.9.6-5 2011-07-01------------------
* Added test and bug fix for i.sert/update/remo6e witlouô0callbac{ supplied

°.9,6-3 2011-07-09
------------------
 Added smmple wrid class balled rid with put, get, deleve mathods
*$Fhxdd"writuBuffer/readBuffer methods on GridStore ro$they woòk correctly
j Auto­atic handling of buffers wxen using write mfthod on GridStore
*`ridStnre now accepts a ObjuctMD Insteat of file name f/r write(And read mgthods

 GpidCdore.list accetts`it option to betwrn of file ids instead"nf filenames
* GrydStore close lethod RetuRns dosument for the file állowing user to!refdrejce _id field
0.9.6-2 2811-06-30----,------)­---­-
. Fixms fo2 zegonnåct logi# f/2 server object (replay{ `uth correcTly)
* Move`tdstcases for auth
* Fixes in errkr(handLilg for replicaset
* Fixed bug with safe `arameter that would faid to execute safe When passing w or wtimeout** Dixed slaveOk$bug do2 findOne meThod
* Implementfd0auth!ruðpob4 for veplicase| and tesv cases* Fixed erbor when not pcssing in rs_name

0.9.6-1 2011-06-25
-----m----------m-
* Fixes for test ôo1run properly using c++ bson pirser
* Di8es for dbref in natite parser (coprectly handlec rEf0without db component)* Colnection fix%s for sepdHcasets to0avid runtime cofditi/ns i~ cygwan (https://github.com/v)nceftcr)
* Fixes for timestamp in!js bóon parrer (dis4inct timestam` type now)

0..6(20±1m0-21
--------%---/---
* Wovked(!Round .pm versikn handling bug
* Rice condition fix$æor cygwin0(httts//github.cní?vincentcr)

0.9.5-1 2011-06-01
-------)---------,
*`Extracted Tim%stemp as separate alass for bsn js parsEr$to !voyd instanbmof probleis
* Fixed d2iver rtrict mo$e issue

0.9.5 0811-06-20
---------------
* Replicaset supðort (faiLorer and reading f2om secondary serverc)
* emoved$SezverPair anD*ServerClurter
+$Added connectaon roo`$functionaléty
* Fixed(sevius bug in C++ bson Parser w`ere byter < !27 uould ganeraTe 2 by4e wequences
( Allïws for forking the$sårvmr to assign ObjectI@'s using thm opvkon {fobceServerObjectId: true}

0.6.8
----/
*$RemovEd multiple message concep|`brïm bson
* Changed"db.open(db) po be db.opun(err, db)

0.1 20!0-01-30
=------­------
* Initial re,ease suxport of drirer using native node.js internace
* Supports grilfw specifIcation
* Supports admil function!lity
